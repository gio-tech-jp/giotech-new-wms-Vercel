const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BMS5sN1E.js","./Bz_Kx0yR.js","./error-404.BLrjNXsr.css","./D-YKtQ2K.js","./error-500.DLkAwcfL.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Ri(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const oe={},dr=[],st=()=>{},Ya=()=>!1,ss=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Oi=e=>e.startsWith("onUpdate:"),we=Object.assign,Ci=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Su=Object.prototype.hasOwnProperty,te=(e,t)=>Su.call(e,t),z=Array.isArray,pr=e=>Ys(e)==="[object Map]",Xa=e=>Ys(e)==="[object Set]",J=e=>typeof e=="function",fe=e=>typeof e=="string",xt=e=>typeof e=="symbol",ae=e=>e!==null&&typeof e=="object",Qa=e=>(ae(e)||J(e))&&J(e.then)&&J(e.catch),Za=Object.prototype.toString,Ys=e=>Za.call(e),Eu=e=>Ys(e).slice(8,-1),el=e=>Ys(e)==="[object Object]",Xs=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kt=Ri(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qs=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},ku=/-\w/g,Fe=Qs(e=>e.replace(ku,t=>t.slice(1).toUpperCase())),Tu=/\B([A-Z])/g,Xt=Qs(e=>e.replace(Tu,"-$1").toLowerCase()),Zs=Qs(e=>e.charAt(0).toUpperCase()+e.slice(1)),yn=Qs(e=>e?`on${Zs(e)}`:""),kt=(e,t)=>!Object.is(e,t),mn=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},tl=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},Au=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rl=e=>{const t=fe(e)?Number(e):NaN;return isNaN(t)?e:t};let go;const en=()=>go||(go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tn(e){if(z(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],n=fe(s)?xu(s):tn(s);if(n)for(const i in n)t[i]=n[i]}return t}else if(fe(e)||ae(e))return e}const Ru=/;(?![^(]*\))/g,Ou=/:([^]+)/,Cu=/\/\*[^]*?\*\//g;function xu(e){const t={};return e.replace(Cu,"").split(Ru).forEach(r=>{if(r){const s=r.split(Ou);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function rn(e){let t="";if(fe(e))t=e;else if(z(e))for(let r=0;r<e.length;r++){const s=rn(e[r]);s&&(t+=s+" ")}else if(ae(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Pu(e){if(!e)return null;let{class:t,style:r}=e;return t&&!fe(t)&&(e.class=rn(t)),r&&(e.style=tn(r)),e}const Iu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$u=Ri(Iu);function sl(e){return!!e||e===""}const nl=e=>!!(e&&e.__v_isRef===!0),ju=e=>fe(e)?e:e==null?"":z(e)||ae(e)&&(e.toString===Za||!J(e.toString))?nl(e)?ju(e.value):JSON.stringify(e,il,2):String(e),il=(e,t)=>nl(t)?il(e,t.value):pr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,n],i)=>(r[_n(s,i)+" =>"]=n,r),{})}:Xa(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>_n(r))}:xt(t)?_n(t):ae(t)&&!z(t)&&!el(t)?String(t):t,_n=(e,t="")=>{var r;return xt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};let xe;class ol{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!t&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=xe;try{return xe=this,t()}finally{xe=r}}}on(){++this._on===1&&(this.prevScope=xe,xe=this)}off(){this._on>0&&--this._on===0&&(xe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function al(e){return new ol(e)}function ll(){return xe}let ie;const wn=new WeakSet;class cl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wn.has(this)&&(wn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yo(this),fl(this);const t=ie,r=ze;ie=this,ze=!0;try{return this.fn()}finally{dl(this),ie=t,ze=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ii(t);this.deps=this.depsTail=void 0,yo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vn(this)&&this.run()}get dirty(){return Vn(this)}}let ul=0,jr,Nr;function hl(e,t=!1){if(e.flags|=8,t){e.next=Nr,Nr=e;return}e.next=jr,jr=e}function xi(){ul++}function Pi(){if(--ul>0)return;if(Nr){let t=Nr;for(Nr=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;jr;){let t=jr;for(jr=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function fl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dl(e){let t,r=e.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),Ii(s),Nu(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}e.deps=t,e.depsTail=r}function Vn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function pl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fr)||(e.globalVersion=Fr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vn(e))))return;e.flags|=2;const t=e.dep,r=ie,s=ze;ie=e,ze=!0;try{fl(e);const n=e.fn(e._value);(t.version===0||kt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ie=r,ze=s,dl(e),e.flags&=-3}}function Ii(e,t=!1){const{dep:r,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Ii(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Nu(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let ze=!0;const gl=[];function ht(){gl.push(ze),ze=!1}function ft(){const e=gl.pop();ze=e===void 0?!0:e}function yo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=ie;ie=void 0;try{t()}finally{ie=r}}}let Fr=0;class Uu{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $i{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ie||!ze||ie===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ie)r=this.activeLink=new Uu(ie,this),ie.deps?(r.prevDep=ie.depsTail,ie.depsTail.nextDep=r,ie.depsTail=r):ie.deps=ie.depsTail=r,yl(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=ie.depsTail,r.nextDep=void 0,ie.depsTail.nextDep=r,ie.depsTail=r,ie.deps===r&&(ie.deps=s)}return r}trigger(t){this.version++,Fr++,this.notify(t)}notify(t){xi();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Pi()}}}function yl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)yl(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const xs=new WeakMap,Vt=Symbol(""),Gn=Symbol(""),qr=Symbol("");function ke(e,t,r){if(ze&&ie){let s=xs.get(e);s||xs.set(e,s=new Map);let n=s.get(r);n||(s.set(r,n=new $i),n.map=s,n.key=r),n.track()}}function ut(e,t,r,s,n,i){const o=xs.get(e);if(!o){Fr++;return}const a=l=>{l&&l.trigger()};if(xi(),t==="clear")o.forEach(a);else{const l=z(e),u=l&&Xs(r);if(l&&r==="length"){const c=Number(s);o.forEach((h,d)=>{(d==="length"||d===qr||!xt(d)&&d>=c)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(qr)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Vt)),pr(e)&&a(o.get(Gn)));break;case"delete":l||(a(o.get(Vt)),pr(e)&&a(o.get(Gn)));break;case"set":pr(e)&&a(o.get(Vt));break}}Pi()}function Lu(e,t){const r=xs.get(e);return r&&r.get(t)}function Zt(e){const t=ee(e);return t===e?t:(ke(t,"iterate",qr),He(e)?t:t.map(pt))}function ji(e){return ke(e=ee(e),"iterate",qr),e}function _t(e,t){return dt(e)?Wr(Gt(e)?pt(t):t):pt(t)}const Du={__proto__:null,[Symbol.iterator](){return vn(this,Symbol.iterator,e=>_t(this,e))},concat(...e){return Zt(this).concat(...e.map(t=>z(t)?Zt(t):t))},entries(){return vn(this,"entries",e=>(e[1]=_t(this,e[1]),e))},every(e,t){return nt(this,"every",e,t,void 0,arguments)},filter(e,t){return nt(this,"filter",e,t,r=>r.map(s=>_t(this,s)),arguments)},find(e,t){return nt(this,"find",e,t,r=>_t(this,r),arguments)},findIndex(e,t){return nt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return nt(this,"findLast",e,t,r=>_t(this,r),arguments)},findLastIndex(e,t){return nt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return nt(this,"forEach",e,t,void 0,arguments)},includes(...e){return bn(this,"includes",e)},indexOf(...e){return bn(this,"indexOf",e)},join(e){return Zt(this).join(e)},lastIndexOf(...e){return bn(this,"lastIndexOf",e)},map(e,t){return nt(this,"map",e,t,void 0,arguments)},pop(){return Cr(this,"pop")},push(...e){return Cr(this,"push",e)},reduce(e,...t){return mo(this,"reduce",e,t)},reduceRight(e,...t){return mo(this,"reduceRight",e,t)},shift(){return Cr(this,"shift")},some(e,t){return nt(this,"some",e,t,void 0,arguments)},splice(...e){return Cr(this,"splice",e)},toReversed(){return Zt(this).toReversed()},toSorted(e){return Zt(this).toSorted(e)},toSpliced(...e){return Zt(this).toSpliced(...e)},unshift(...e){return Cr(this,"unshift",e)},values(){return vn(this,"values",e=>_t(this,e))}};function vn(e,t,r){const s=ji(e),n=s[t]();return s!==e&&!He(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const Mu=Array.prototype;function nt(e,t,r,s,n,i){const o=ji(e),a=o!==e&&!He(e),l=o[t];if(l!==Mu[t]){const h=l.apply(e,i);return a?pt(h):h}let u=r;o!==e&&(a?u=function(h,d){return r.call(this,_t(e,h),d,e)}:r.length>2&&(u=function(h,d){return r.call(this,h,d,e)}));const c=l.call(o,u,s);return a&&n?n(c):c}function mo(e,t,r,s){const n=ji(e);let i=r;return n!==e&&(He(e)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,e)}):i=function(o,a,l){return r.call(this,o,_t(e,a),l,e)}),n[t](i,...s)}function bn(e,t,r){const s=ee(e);ke(s,"iterate",qr);const n=s[t](...r);return(n===-1||n===!1)&&sn(r[0])?(r[0]=ee(r[0]),s[t](...r)):n}function Cr(e,t,r=[]){ht(),xi();const s=ee(e)[t].apply(e,r);return Pi(),ft(),s}const Bu=Ri("__proto__,__v_isRef,__isVue"),ml=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xt));function Hu(e){xt(e)||(e=String(e));const t=ee(this);return ke(t,"has",e),t.hasOwnProperty(e)}class _l{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Xu:Sl:i?bl:vl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=z(t);if(!n){let l;if(o&&(l=Du[r]))return l;if(r==="hasOwnProperty")return Hu}const a=Reflect.get(t,r,pe(t)?t:s);if((xt(r)?ml.has(r):Bu(r))||(n||ke(t,"get",r),i))return a;if(pe(a)){const l=o&&Xs(r)?a:a.value;return n&&ae(l)?zn(l):l}return ae(a)?n?zn(a):Rt(a):a}}class wl extends _l{constructor(t=!1){super(!1,t)}set(t,r,s,n){let i=t[r];const o=z(t)&&Xs(r);if(!this._isShallow){const u=dt(i);if(!He(s)&&!dt(s)&&(i=ee(i),s=ee(s)),!o&&pe(i)&&!pe(s))return u||(i.value=s),!0}const a=o?Number(r)<t.length:te(t,r),l=Reflect.set(t,r,s,pe(t)?t:n);return t===ee(n)&&(a?kt(s,i)&&ut(t,"set",r,s):ut(t,"add",r,s)),l}deleteProperty(t,r){const s=te(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&s&&ut(t,"delete",r,void 0),n}has(t,r){const s=Reflect.has(t,r);return(!xt(r)||!ml.has(r))&&ke(t,"has",r),s}ownKeys(t){return ke(t,"iterate",z(t)?"length":Vt),Reflect.ownKeys(t)}}class Fu extends _l{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const qu=new wl,Wu=new Fu,Ku=new wl(!0);const Jn=e=>e,hs=e=>Reflect.getPrototypeOf(e);function Vu(e,t,r){return function(...s){const n=this.__v_raw,i=ee(n),o=pr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...s),c=r?Jn:t?Wr:pt;return!t&&ke(i,"iterate",l?Gn:Vt),we(Object.create(u),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}}})}}function fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gu(e,t){const r={get(n){const i=this.__v_raw,o=ee(i),a=ee(n);e||(kt(n,a)&&ke(o,"get",n),ke(o,"get",a));const{has:l}=hs(o),u=t?Jn:e?Wr:pt;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&ke(ee(n),"iterate",Vt),n.size},has(n){const i=this.__v_raw,o=ee(i),a=ee(n);return e||(kt(n,a)&&ke(o,"has",n),ke(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ee(a),u=t?Jn:e?Wr:pt;return!e&&ke(l,"iterate",Vt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return we(r,e?{add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear")}:{add(n){!t&&!He(n)&&!dt(n)&&(n=ee(n));const i=ee(this);return hs(i).has.call(i,n)||(i.add(n),ut(i,"add",n,n)),this},set(n,i){!t&&!He(i)&&!dt(i)&&(i=ee(i));const o=ee(this),{has:a,get:l}=hs(o);let u=a.call(o,n);u||(n=ee(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?kt(i,c)&&ut(o,"set",n,i):ut(o,"add",n,i),this},delete(n){const i=ee(this),{has:o,get:a}=hs(i);let l=o.call(i,n);l||(n=ee(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ut(i,"delete",n,void 0),u},clear(){const n=ee(this),i=n.size!==0,o=n.clear();return i&&ut(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Vu(n,e,t)}),r}function Ni(e,t){const r=Gu(e,t);return(s,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(te(r,n)&&n in s?r:s,n,i)}const Ju={get:Ni(!1,!1)},zu={get:Ni(!1,!0)},Yu={get:Ni(!0,!1)};const vl=new WeakMap,bl=new WeakMap,Sl=new WeakMap,Xu=new WeakMap;function Qu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zu(e){return e.__v_skip||!Object.isExtensible(e)?0:Qu(Eu(e))}function Rt(e){return dt(e)?e:Ui(e,!1,qu,Ju,vl)}function qt(e){return Ui(e,!1,Ku,zu,bl)}function zn(e){return Ui(e,!0,Wu,Yu,Sl)}function Ui(e,t,r,s,n){if(!ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Zu(e);if(i===0)return e;const o=n.get(e);if(o)return o;const a=new Proxy(e,i===2?s:r);return n.set(e,a),a}function Gt(e){return dt(e)?Gt(e.__v_raw):!!(e&&e.__v_isReactive)}function dt(e){return!!(e&&e.__v_isReadonly)}function He(e){return!!(e&&e.__v_isShallow)}function sn(e){return e?!!e.__v_raw:!1}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function El(e){return!te(e,"__v_skip")&&Object.isExtensible(e)&&tl(e,"__v_skip",!0),e}const pt=e=>ae(e)?Rt(e):e,Wr=e=>ae(e)?zn(e):e;function pe(e){return e?e.__v_isRef===!0:!1}function Tt(e){return kl(e,!1)}function Yn(e){return kl(e,!0)}function kl(e,t){return pe(e)?e:new eh(e,t)}class eh{constructor(t,r){this.dep=new $i,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:ee(t),this._value=r?t:pt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||He(t)||dt(t);t=s?t:ee(t),kt(t,r)&&(this._rawValue=t,this._value=s?t:pt(t),this.dep.trigger())}}function de(e){return pe(e)?e.value:e}function th(e){return J(e)?e():de(e)}const rh={get:(e,t,r)=>t==="__v_raw"?e:de(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const n=e[t];return pe(n)&&!pe(r)?(n.value=r,!0):Reflect.set(e,t,r,s)}};function Tl(e){return Gt(e)?e:new Proxy(e,rh)}class sh{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=ee(t);let n=!0,i=t;if(!z(t)||!Xs(String(r)))do n=!sn(i)||He(i);while(n&&(i=i.__v_raw));this._shallow=n}get value(){let t=this._object[this._key];return this._shallow&&(t=de(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&pe(this._raw[this._key])){const r=this._object[this._key];if(pe(r)){r.value=t;return}}this._object[this._key]=t}get dep(){return Lu(this._raw,this._key)}}class nh{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Al(e,t,r){return pe(e)?e:J(e)?new nh(e):ae(e)&&arguments.length>1?ih(e,t,r):Tt(e)}function ih(e,t,r){return new sh(e,t,r)}class oh{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new $i(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ie!==this)return hl(this,!0),!0}get value(){const t=this.dep.track();return pl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ah(e,t,r=!1){let s,n;return J(e)?s=e:(s=e.get,n=e.set),new oh(s,n,r)}const ds={},Ps=new WeakMap;let Dt;function lh(e,t=!1,r=Dt){if(r){let s=Ps.get(r);s||Ps.set(r,s=[]),s.push(e)}}function ch(e,t,r=oe){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,u=_=>n?_:He(_)||n===!1||n===0?St(_,1):St(_);let c,h,d,f,g=!1,y=!1;if(pe(e)?(h=()=>e.value,g=He(e)):Gt(e)?(h=()=>u(e),g=!0):z(e)?(y=!0,g=e.some(_=>Gt(_)||He(_)),h=()=>e.map(_=>{if(pe(_))return _.value;if(Gt(_))return u(_);if(J(_))return l?l(_,2):_()})):J(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){ht();try{d()}finally{ft()}}const _=Dt;Dt=c;try{return l?l(e,3,[f]):e(f)}finally{Dt=_}}:h=st,t&&n){const _=h,E=n===!0?1/0:n;h=()=>St(_(),E)}const v=ll(),b=()=>{c.stop(),v&&v.active&&Ci(v.effects,c)};if(i&&t){const _=t;t=(...E)=>{_(...E),b()}}let S=y?new Array(e.length).fill(ds):ds;const p=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const E=c.run();if(n||g||(y?E.some((k,A)=>kt(k,S[A])):kt(E,S))){d&&d();const k=Dt;Dt=c;try{const A=[E,S===ds?void 0:y&&S[0]===ds?[]:S,f];S=E,l?l(t,3,A):t(...A)}finally{Dt=k}}}else c.run()};return a&&a(p),c=new cl(h),c.scheduler=o?()=>o(p,!1):p,f=_=>lh(_,!1,c),d=c.onStop=()=>{const _=Ps.get(c);if(_){if(l)l(_,4);else for(const E of _)E();Ps.delete(c)}},t?s?p(!0):S=c.run():o?o(p.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function St(e,t=1/0,r){if(t<=0||!ae(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,pe(e))St(e.value,t,r);else if(z(e))for(let s=0;s<e.length;s++)St(e[s],t,r);else if(Xa(e)||pr(e))e.forEach(s=>{St(s,t,r)});else if(el(e)){for(const s in e)St(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&St(e[s],t,r)}return e}function ns(e,t,r,s){try{return s?e(...s):e()}catch(n){kr(n,t,r)}}function Ye(e,t,r,s){if(J(e)){const n=ns(e,t,r,s);return n&&Qa(n)&&n.catch(i=>{kr(i,t,r)}),n}if(z(e)){const n=[];for(let i=0;i<e.length;i++)n.push(Ye(e[i],t,r,s));return n}}function kr(e,t,r,s=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||oe;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(i){ht(),ns(i,null,10,[e,l,u]),ft();return}}uh(e,r,n,s,o)}function uh(e,t,r,s=!0,n=!1){if(n)throw e;console.error(e)}const Re=[];let et=-1;const gr=[];let wt=null,ar=0;const Rl=Promise.resolve();let Is=null;function Li(e){const t=Is||Rl;return e?t.then(this?e.bind(this):e):t}function hh(e){let t=et+1,r=Re.length;for(;t<r;){const s=t+r>>>1,n=Re[s],i=Kr(n);i<e||i===e&&n.flags&2?t=s+1:r=s}return t}function Di(e){if(!(e.flags&1)){const t=Kr(e),r=Re[Re.length-1];!r||!(e.flags&2)&&t>=Kr(r)?Re.push(e):Re.splice(hh(t),0,e),e.flags|=1,Ol()}}function Ol(){Is||(Is=Rl.then(Cl))}function Xn(e){z(e)?gr.push(...e):wt&&e.id===-1?wt.splice(ar+1,0,e):e.flags&1||(gr.push(e),e.flags|=1),Ol()}function _o(e,t,r=et+1){for(;r<Re.length;r++){const s=Re[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Re.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function $s(e){if(gr.length){const t=[...new Set(gr)].sort((r,s)=>Kr(r)-Kr(s));if(gr.length=0,wt){wt.push(...t);return}for(wt=t,ar=0;ar<wt.length;ar++){const r=wt[ar];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}wt=null,ar=0}}const Kr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Cl(e){try{for(et=0;et<Re.length;et++){const t=Re[et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;et<Re.length;et++){const t=Re[et];t&&(t.flags&=-2)}et=-1,Re.length=0,$s(),Is=null,(Re.length||gr.length)&&Cl()}}let Je=null,xl=null;function js(e){const t=Je;return Je=e,xl=e&&e.type.__scopeId||null,t}function Mi(e,t=Je,r){if(!t||e._n)return e;const s=(...n)=>{s._d&&Ds(-1);const i=js(t);let o;try{o=e(...n)}finally{js(i),s._d&&Ds(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function tt(e,t,r,s){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(ht(),Ye(l,r,8,[e.el,a,e,t]),ft())}}function Ns(e,t){if(Se){let r=Se.provides;const s=Se.parent&&Se.parent.provides;s===r&&(r=Se.provides=Object.create(s)),r[e]=t}}function At(e,t,r=!1){const s=os();if(s||Jt){let n=Jt?Jt._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&J(t)?t.call(s&&s.proxy):t}}function Bi(){return!!(os()||Jt)}const fh=Symbol.for("v-scx"),dh=()=>At(fh);function ph(e,t){return Hi(e,null,t)}function Sn(e,t,r){return Hi(e,t,r)}function Hi(e,t,r=oe){const{immediate:s,deep:n,flush:i,once:o}=r,a=we({},r),l=t&&s||!t&&i!=="post";let u;if(br){if(i==="sync"){const f=dh();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=st,f.resume=st,f.pause=st,f}}const c=Se;a.call=(f,g,y)=>Ye(f,c,g,y);let h=!1;i==="post"?a.scheduler=f=>{Ce(f,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():Di(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=ch(e,t,a);return br&&(u?u.push(d):l&&d()),d}function gh(e,t,r){const s=this.proxy,n=fe(e)?e.includes(".")?Pl(s,e):()=>s[e]:e.bind(s,s);let i;J(t)?i=t:(i=t.handler,r=t);const o=as(this),a=Hi(n,i.bind(s),r);return o(),a}function Pl(e,t){const r=t.split(".");return()=>{let s=e;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const yh=Symbol("_vte"),Il=e=>e.__isTeleport,lt=Symbol("_leaveCb"),ps=Symbol("_enterCb");function mh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Hl(()=>{e.isMounted=!0}),qi(()=>{e.isUnmounting=!0}),e}const Me=[Function,Array],$l={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Me,onEnter:Me,onAfterEnter:Me,onEnterCancelled:Me,onBeforeLeave:Me,onLeave:Me,onAfterLeave:Me,onLeaveCancelled:Me,onBeforeAppear:Me,onAppear:Me,onAfterAppear:Me,onAppearCancelled:Me},jl=e=>{const t=e.subTree;return t.component?jl(t.component):t},_h={name:"BaseTransition",props:$l,setup(e,{slots:t}){const r=os(),s=mh();return()=>{const n=t.default&&Ll(t.default(),!0);if(!n||!n.length)return;const i=Nl(n),o=ee(e),{mode:a}=o;if(s.isLeaving)return En(i);const l=wo(i);if(!l)return En(i);let u=Qn(l,o,s,r,h=>u=h);l.type!==Te&&Vr(l,u);let c=r.subTree&&wo(r.subTree);if(c&&c.type!==Te&&!rt(c,l)&&jl(r).type!==Te){let h=Qn(c,o,s,r);if(Vr(c,h),a==="out-in"&&l.type!==Te)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave,c=void 0},En(i);a==="in-out"&&l.type!==Te?h.delayLeave=(d,f,g)=>{const y=Ul(s,c);y[String(c.key)]=c,d[lt]=()=>{f(),d[lt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function Nl(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Te){t=r;break}}return t}const wh=_h;function Ul(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function Qn(e,t,r,s,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:v,onAppear:b,onAfterAppear:S,onAppearCancelled:p}=t,_=String(e.key),E=Ul(r,e),k=(I,j)=>{I&&Ye(I,s,9,j)},A=(I,j)=>{const M=j[1];k(I,j),z(I)?I.every(P=>P.length<=1)&&M():I.length<=1&&M()},D={mode:o,persisted:a,beforeEnter(I){let j=l;if(!r.isMounted)if(i)j=v||l;else return;I[lt]&&I[lt](!0);const M=E[_];M&&rt(e,M)&&M.el[lt]&&M.el[lt](),k(j,[I])},enter(I){let j=u,M=c,P=h;if(!r.isMounted)if(i)j=b||u,M=S||c,P=p||h;else return;let W=!1;const Q=I[ps]=le=>{W||(W=!0,le?k(P,[I]):k(M,[I]),D.delayedLeave&&D.delayedLeave(),I[ps]=void 0)};j?A(j,[I,Q]):Q()},leave(I,j){const M=String(e.key);if(I[ps]&&I[ps](!0),r.isUnmounting)return j();k(d,[I]);let P=!1;const W=I[lt]=Q=>{P||(P=!0,j(),Q?k(y,[I]):k(g,[I]),I[lt]=void 0,E[M]===e&&delete E[M])};E[M]=e,f?A(f,[I,W]):W()},clone(I){const j=Qn(I,t,r,s,n);return n&&n(j),j}};return D}function En(e){if(is(e))return e=Ot(e),e.children=null,e}function wo(e){if(!is(e))return Il(e.type)&&e.children?Nl(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&J(r.default))return r.default()}}function Vr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ll(e,t=!1,r){let s=[],n=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Ne?(o.patchFlag&128&&n++,s=s.concat(Ll(o.children,t,a))):(t||o.type!==Te)&&s.push(a!=null?Ot(o,{key:a}):o)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Tr(e,t){return J(e)?we({name:e.name},t,{setup:e}):e}function Fi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Us=new WeakMap;function yr(e,t,r,s,n=!1){if(z(e)){e.forEach((g,y)=>yr(g,t&&(z(t)?t[y]:t),r,s,n));return}if(mr(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&yr(e,t,r,s.component.subTree);return}const i=s.shapeFlag&4?Gi(s.component):s.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===oe?a.refs={}:a.refs,h=a.setupState,d=ee(h),f=h===oe?Ya:g=>te(d,g);if(u!=null&&u!==l){if(vo(t),fe(u))c[u]=null,f(u)&&(h[u]=null);else if(pe(u)){u.value=null;const g=t;g.k&&(c[g.k]=null)}}if(J(l))ns(l,a,12,[o,c]);else{const g=fe(l),y=pe(l);if(g||y){const v=()=>{if(e.f){const b=g?f(l)?h[l]:c[l]:l.value;if(n)z(b)&&Ci(b,i);else if(z(b))b.includes(i)||b.push(i);else if(g)c[l]=[i],f(l)&&(h[l]=c[l]);else{const S=[i];l.value=S,e.k&&(c[e.k]=S)}}else g?(c[l]=o,f(l)&&(h[l]=o)):y&&(l.value=o,e.k&&(c[e.k]=o))};if(o){const b=()=>{v(),Us.delete(e)};b.id=-1,Us.set(e,b),Ce(b,r)}else vo(e),v()}}}function vo(e){const t=Us.get(e);t&&(t.flags|=8,Us.delete(e))}let bo=!1;const er=()=>{bo||(console.error("Hydration completed but contains mismatches."),bo=!0)},vh=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",bh=e=>e.namespaceURI.includes("MathML"),gs=e=>{if(e.nodeType===1){if(vh(e))return"svg";if(bh(e))return"mathml"}},hr=e=>e.nodeType===8;function Sh(e){const{mt:t,p:r,o:{patchProp:s,createText:n,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=e,c=(p,_)=>{if(!_.hasChildNodes()){r(null,p,_),$s(),_._vnode=p;return}h(_.firstChild,p,null,null,null),$s(),_._vnode=p},h=(p,_,E,k,A,D=!1)=>{D=D||!!_.dynamicChildren;const I=hr(p)&&p.data==="[",j=()=>y(p,_,E,k,A,I),{type:M,ref:P,shapeFlag:W,patchFlag:Q}=_;let le=p.nodeType;_.el=p,Q===-2&&(D=!1,_.dynamicChildren=null);let H=null;switch(M){case zt:le!==3?_.children===""?(l(_.el=n(""),o(p),p),H=p):H=j():(p.data!==_.children&&(er(),p.data=_.children),H=i(p));break;case Te:S(p)?(H=i(p),b(_.el=p.content.firstChild,p,E)):le!==8||I?H=j():H=i(p);break;case Ts:if(I&&(p=i(p),le=p.nodeType),le===1||le===3){H=p;const X=!_.children.length;for(let B=0;B<_.staticCount;B++)X&&(_.children+=H.nodeType===1?H.outerHTML:H.data),B===_.staticCount-1&&(_.anchor=H),H=i(H);return I?i(H):H}else j();break;case Ne:I?H=g(p,_,E,k,A,D):H=j();break;default:if(W&1)(le!==1||_.type.toLowerCase()!==p.tagName.toLowerCase())&&!S(p)?H=j():H=d(p,_,E,k,A,D);else if(W&6){_.slotScopeIds=A;const X=o(p);if(I?H=v(p):hr(p)&&p.data==="teleport start"?H=v(p,p.data,"teleport end"):H=i(p),t(_,X,null,E,k,gs(X),D),mr(_)&&!_.type.__asyncResolved){let B;I?(B=_e(Ne),B.anchor=H?H.previousSibling:X.lastChild):B=p.nodeType===3?wc(""):_e("div"),B.el=p,_.component.subTree=B}}else W&64?le!==8?H=j():H=_.type.hydrate(p,_,E,k,A,D,e,f):W&128&&(H=_.type.hydrate(p,_,E,k,gs(o(p)),A,D,e,h))}return P!=null&&yr(P,null,k,_),H},d=(p,_,E,k,A,D)=>{D=D||!!_.dynamicChildren;const{type:I,props:j,patchFlag:M,shapeFlag:P,dirs:W,transition:Q}=_,le=I==="input"||I==="option";if(le||M!==-1){W&&tt(_,null,E,"created");let H=!1;if(S(p)){H=oc(null,Q)&&E&&E.vnode.props&&E.vnode.props.appear;const B=p.content.firstChild;if(H){const ce=B.getAttribute("class");ce&&(B.$cls=ce),Q.beforeEnter(B)}b(B,p,E),_.el=p=B}if(P&16&&!(j&&(j.innerHTML||j.textContent))){let B=f(p.firstChild,_,p,E,k,A,D);for(;B;){ys(p,1)||er();const ce=B;B=B.nextSibling,a(ce)}}else if(P&8){let B=_.children;B[0]===`
`&&(p.tagName==="PRE"||p.tagName==="TEXTAREA")&&(B=B.slice(1));const{textContent:ce}=p;ce!==B&&ce!==B.replace(/\r\n|\r/g,`
`)&&(ys(p,0)||er(),p.textContent=_.children)}if(j){if(le||!D||M&48){const B=p.tagName.includes("-");for(const ce in j)(le&&(ce.endsWith("value")||ce==="indeterminate")||ss(ce)&&!Kt(ce)||ce[0]==="."||B&&!Kt(ce))&&s(p,ce,null,j[ce],void 0,E)}else if(j.onClick)s(p,"onClick",null,j.onClick,void 0,E);else if(M&4&&Gt(j.style))for(const B in j.style)j.style[B]}let X;(X=j&&j.onVnodeBeforeMount)&&Be(X,E,_),W&&tt(_,null,E,"beforeMount"),((X=j&&j.onVnodeMounted)||W||H)&&dc(()=>{X&&Be(X,E,_),H&&Q.enter(p),W&&tt(_,null,E,"mounted")},k)}return p.nextSibling},f=(p,_,E,k,A,D,I)=>{I=I||!!_.dynamicChildren;const j=_.children,M=j.length;for(let P=0;P<M;P++){const W=I?j[P]:j[P]=Ue(j[P]),Q=W.type===zt;p?(Q&&!I&&P+1<M&&Ue(j[P+1]).type===zt&&(l(n(p.data.slice(W.children.length)),E,i(p)),p.data=W.children),p=h(p,W,k,A,D,I)):Q&&!W.children?l(W.el=n(""),E):(ys(E,1)||er(),r(null,W,E,null,k,A,gs(E),D))}return p},g=(p,_,E,k,A,D)=>{const{slotScopeIds:I}=_;I&&(A=A?A.concat(I):I);const j=o(p),M=f(i(p),_,j,E,k,A,D);return M&&hr(M)&&M.data==="]"?i(_.anchor=M):(er(),l(_.anchor=u("]"),j,M),M)},y=(p,_,E,k,A,D)=>{if(ys(p.parentElement,1)||er(),_.el=null,D){const M=v(p);for(;;){const P=i(p);if(P&&P!==M)a(P);else break}}const I=i(p),j=o(p);return a(p),r(null,_,j,I,E,k,gs(j),A),E&&(E.vnode.el=_.el,an(E,_.el)),I},v=(p,_="[",E="]")=>{let k=0;for(;p;)if(p=i(p),p&&hr(p)&&(p.data===_&&k++,p.data===E)){if(k===0)return i(p);k--}return p},b=(p,_,E)=>{const k=_.parentNode;k&&k.replaceChild(p,_);let A=E;for(;A;)A.vnode.el===_&&(A.vnode.el=A.subTree.el=p),A=A.parent},S=p=>p.nodeType===1&&p.tagName==="TEMPLATE";return[c,h]}const So="data-allow-mismatch",Eh={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ys(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(So);)e=e.parentElement;const r=e&&e.getAttribute(So);if(r==null)return!1;if(r==="")return!0;{const s=r.split(",");return t===0&&s.includes("children")?!0:s.includes(Eh[t])}}en().requestIdleCallback;en().cancelIdleCallback;function kh(e,t){if(hr(e)&&e.data==="["){let r=1,s=e.nextSibling;for(;s;){if(s.nodeType===1){if(t(s)===!1)break}else if(hr(s))if(s.data==="]"){if(--r===0)break}else s.data==="["&&r++;s=s.nextSibling}}else t(e)}const mr=e=>!!e.type.__asyncLoader;function Eo(e){J(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:s,delay:n=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=e;let u=null,c,h=0;const d=()=>(h++,u=null,f()),f=()=>{let g;return u||(g=u=t().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((v,b)=>{l(y,()=>v(d()),()=>b(y),h+1)});throw y}).then(y=>g!==u&&u?u:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),c=y,y)))};return Tr({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(g,y,v){let b=!1;(y.bu||(y.bu=[])).push(()=>b=!0);const S=()=>{b||v()},p=i?()=>{const _=i(S,E=>kh(g,E));_&&(y.bum||(y.bum=[])).push(_)}:S;c?p():f().then(()=>!y.isUnmounted&&p())},get __asyncResolved(){return c},setup(){const g=Se;if(Fi(g),c)return()=>ms(c,g);const y=p=>{u=null,kr(p,g,13,!s)};if(a&&g.suspense||br)return f().then(p=>()=>ms(p,g)).catch(p=>(y(p),()=>s?_e(s,{error:p}):null));const v=Tt(!1),b=Tt(),S=Tt(!!n);return n&&setTimeout(()=>{S.value=!1},n),o!=null&&setTimeout(()=>{if(!v.value&&!b.value){const p=new Error(`Async component timed out after ${o}ms.`);y(p),b.value=p}},o),f().then(()=>{v.value=!0,g.parent&&is(g.parent.vnode)&&g.parent.update()}).catch(p=>{y(p),b.value=p}),()=>{if(v.value&&c)return ms(c,g);if(b.value&&s)return _e(s,{error:b.value});if(r&&!S.value)return ms(r,g)}}})}function ms(e,t){const{ref:r,props:s,children:n,ce:i}=t.vnode,o=_e(e,s,n);return o.ref=r,o.ce=i,delete t.vnode.ce,o}const is=e=>e.type.__isKeepAlive;function Dl(e,t){Bl(e,"a",t)}function Ml(e,t){Bl(e,"da",t)}function Bl(e,t,r=Se){const s=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(nn(t,s,r),r){let n=r.parent;for(;n&&n.parent;)is(n.parent.vnode)&&Th(s,t,r,n),n=n.parent}}function Th(e,t,r,s){const n=nn(t,e,s,!0);Fl(()=>{Ci(s[t],n)},r)}function nn(e,t,r=Se,s=!1){if(r){const n=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{ht();const a=as(r),l=Ye(t,r,e,o);return a(),ft(),l});return s?n.unshift(i):n.push(i),i}}const gt=e=>(t,r=Se)=>{(!br||e==="sp")&&nn(e,(...s)=>t(...s),r)},Ah=gt("bm"),Hl=gt("m"),Rh=gt("bu"),Oh=gt("u"),qi=gt("bum"),Fl=gt("um"),Ch=gt("sp"),xh=gt("rtg"),Ph=gt("rtc");function ql(e,t=Se){nn("ec",e,t)}const Wl="components";function F_(e,t){return Vl(Wl,e,!0,t)||e}const Kl=Symbol.for("v-ndc");function Ih(e){return fe(e)?Vl(Wl,e,!1)||e:e||Kl}function Vl(e,t,r=!0,s=!1){const n=Je||Se;if(n){const i=n.type;{const a=wf(i,!1);if(a&&(a===t||a===Fe(t)||a===Zs(Fe(t))))return i}const o=ko(n[e]||i[e],t)||ko(n.appContext[e],t);return!o&&s?i:o}}function ko(e,t){return e&&(e[t]||e[Fe(t)]||e[Zs(Fe(t))])}const Zn=e=>e?bc(e)?Gi(e):Zn(e.parent):null,Ur=we(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zn(e.parent),$root:e=>Zn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jl(e),$forceUpdate:e=>e.f||(e.f=()=>{Di(e.update)}),$nextTick:e=>e.n||(e.n=Li.bind(e.proxy)),$watch:e=>gh.bind(e)}),kn=(e,t)=>e!==oe&&!e.__isScriptSetup&&te(e,t),$h={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=e;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return s[t];case 2:return n[t];case 4:return r[t];case 3:return i[t]}else{if(kn(s,t))return o[t]=1,s[t];if(n!==oe&&te(n,t))return o[t]=2,n[t];if(te(i,t))return o[t]=3,i[t];if(r!==oe&&te(r,t))return o[t]=4,r[t];ei&&(o[t]=0)}}const u=Ur[t];let c,h;if(u)return t==="$attrs"&&ke(e.attrs,"get",""),u(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(r!==oe&&te(r,t))return o[t]=4,r[t];if(h=l.config.globalProperties,te(h,t))return h[t]},set({_:e},t,r){const{data:s,setupState:n,ctx:i}=e;return kn(n,t)?(n[t]=r,!0):s!==oe&&te(s,t)?(s[t]=r,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:n,props:i,type:o}},a){let l;return!!(r[a]||e!==oe&&a[0]!=="$"&&te(e,a)||kn(t,a)||te(i,a)||te(s,a)||te(Ur,a)||te(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:te(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function To(e){return z(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let ei=!0;function jh(e){const t=Jl(e),r=e.proxy,s=e.ctx;ei=!1,t.beforeCreate&&Ao(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:S,destroyed:p,unmounted:_,render:E,renderTracked:k,renderTriggered:A,errorCaptured:D,serverPrefetch:I,expose:j,inheritAttrs:M,components:P,directives:W,filters:Q}=t;if(u&&Nh(u,s,null),o)for(const X in o){const B=o[X];J(B)&&(s[X]=B.bind(r))}if(n){const X=n.call(r,r);ae(X)&&(e.data=Rt(X))}if(ei=!0,i)for(const X in i){const B=i[X],ce=J(B)?B.bind(r,r):J(B.get)?B.get.bind(r,r):st,cs=!J(B)&&J(B.set)?B.set.bind(r):st,Pt=Ji({get:ce,set:cs});Object.defineProperty(s,X,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:Qe=>Pt.value=Qe})}if(a)for(const X in a)Gl(a[X],s,r,X);if(l){const X=J(l)?l.call(r):l;Reflect.ownKeys(X).forEach(B=>{Ns(B,X[B])})}c&&Ao(c,e,"c");function H(X,B){z(B)?B.forEach(ce=>X(ce.bind(r))):B&&X(B.bind(r))}if(H(Ah,h),H(Hl,d),H(Rh,f),H(Oh,g),H(Dl,y),H(Ml,v),H(ql,D),H(Ph,k),H(xh,A),H(qi,S),H(Fl,_),H(Ch,I),z(j))if(j.length){const X=e.exposed||(e.exposed={});j.forEach(B=>{Object.defineProperty(X,B,{get:()=>r[B],set:ce=>r[B]=ce,enumerable:!0})})}else e.exposed||(e.exposed={});E&&e.render===st&&(e.render=E),M!=null&&(e.inheritAttrs=M),P&&(e.components=P),W&&(e.directives=W),I&&Fi(e)}function Nh(e,t,r=st){z(e)&&(e=ti(e));for(const s in e){const n=e[s];let i;ae(n)?"default"in n?i=At(n.from||s,n.default,!0):i=At(n.from||s):i=At(n),pe(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function Ao(e,t,r){Ye(z(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Gl(e,t,r,s){let n=s.includes(".")?Pl(r,s):()=>r[s];if(fe(e)){const i=t[e];J(i)&&Sn(n,i)}else if(J(e))Sn(n,e.bind(r));else if(ae(e))if(z(e))e.forEach(i=>Gl(i,t,r,s));else{const i=J(e.handler)?e.handler.bind(r):t[e.handler];J(i)&&Sn(n,i,e)}}function Jl(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!r&&!s?l=t:(l={},n.length&&n.forEach(u=>Ls(l,u,o,!0)),Ls(l,t,o)),ae(t)&&i.set(t,l),l}function Ls(e,t,r,s=!1){const{mixins:n,extends:i}=t;i&&Ls(e,i,r,!0),n&&n.forEach(o=>Ls(e,o,r,!0));for(const o in t)if(!(s&&o==="expose")){const a=Uh[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Uh={data:Ro,props:Oo,emits:Oo,methods:Ir,computed:Ir,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:Ir,directives:Ir,watch:Dh,provide:Ro,inject:Lh};function Ro(e,t){return t?e?function(){return we(J(e)?e.call(this,this):e,J(t)?t.call(this,this):t)}:t:e}function Lh(e,t){return Ir(ti(e),ti(t))}function ti(e){if(z(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ae(e,t){return e?[...new Set([].concat(e,t))]:t}function Ir(e,t){return e?we(Object.create(null),e,t):t}function Oo(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:we(Object.create(null),To(e),To(t??{})):t}function Dh(e,t){if(!e)return t;if(!t)return e;const r=we(Object.create(null),e);for(const s in t)r[s]=Ae(e[s],t[s]);return r}function zl(){return{app:null,config:{isNativeTag:Ya,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mh=0;function Bh(e,t){return function(s,n=null){J(s)||(s=we({},s)),n!=null&&!ae(n)&&(n=null);const i=zl(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Mh++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:bf,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&J(c.install)?(o.add(c),c.install(u,...h)):J(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const f=u._ceVNode||_e(s,n);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(f,c):e(f,c,d),l=!0,u._container=c,c.__vue_app__=u,Gi(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ye(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Jt;Jt=u;try{return c()}finally{Jt=h}}};return u}}let Jt=null;const Hh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fe(t)}Modifiers`]||e[`${Xt(t)}Modifiers`];function Fh(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||oe;let n=r;const i=t.startsWith("update:"),o=i&&Hh(s,t.slice(7));o&&(o.trim&&(n=r.map(c=>fe(c)?c.trim():c)),o.number&&(n=r.map(Au)));let a,l=s[a=yn(t)]||s[a=yn(Fe(t))];!l&&i&&(l=s[a=yn(Xt(t))]),l&&Ye(l,e,6,n);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ye(u,e,6,n)}}const qh=new WeakMap;function Yl(e,t,r=!1){const s=r?qh:t.emitsCache,n=s.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!J(e)){const l=u=>{const c=Yl(u,t,!0);c&&(a=!0,we(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ae(e)&&s.set(e,null),null):(z(i)?i.forEach(l=>o[l]=null):we(o,i),ae(e)&&s.set(e,o),o)}function on(e,t){return!e||!ss(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,Xt(t))||te(e,t))}function Tn(e){const{type:t,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:f,ctx:g,inheritAttrs:y}=e,v=js(e);let b,S;try{if(r.shapeFlag&4){const _=n||s,E=_;b=Ue(u.call(E,_,c,h,f,d,g)),S=a}else{const _=t;b=Ue(_.length>1?_(h,{attrs:a,slots:o,emit:l}):_(h,null)),S=t.props?a:Kh(a)}}catch(_){Lr.length=0,kr(_,e,1),b=_e(Te)}let p=b;if(S&&y!==!1){const _=Object.keys(S),{shapeFlag:E}=p;_.length&&E&7&&(i&&_.some(Oi)&&(S=Vh(S,i)),p=Ot(p,S,!1,!0))}return r.dirs&&(p=Ot(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(r.dirs):r.dirs),r.transition&&Vr(p,r.transition),b=p,js(v),b}function Wh(e,t=!0){let r;for(let s=0;s<e.length;s++){const n=e[s];if(Jr(n)){if(n.type!==Te||n.children==="v-if"){if(r)return;r=n}}else return}return r}const Kh=e=>{let t;for(const r in e)(r==="class"||r==="style"||ss(r))&&((t||(t={}))[r]=e[r]);return t},Vh=(e,t)=>{const r={};for(const s in e)(!Oi(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function Gh(e,t,r){const{props:s,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?Co(s,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==s[d]&&!on(u,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Co(s,o,u):!0:!!o;return!1}function Co(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(t[i]!==e[i]&&!on(r,i))return!0}return!1}function an({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Xl={},Ql=()=>Object.create(Xl),Zl=e=>Object.getPrototypeOf(e)===Xl;function Jh(e,t,r,s=!1){const n={},i=Ql();e.propsDefaults=Object.create(null),ec(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);r?e.props=s?n:qt(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function zh(e,t,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=ee(n),[l]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(on(e.emitsOptions,d))continue;const f=t[d];if(l)if(te(i,d))f!==i[d]&&(i[d]=f,u=!0);else{const g=Fe(d);n[g]=ri(l,a,g,f,e,!1)}else f!==i[d]&&(i[d]=f,u=!0)}}}else{ec(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!te(t,h)&&((c=Xt(h))===h||!te(t,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(n[h]=ri(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!te(t,h))&&(delete i[h],u=!0)}u&&ut(e.attrs,"set","")}function ec(e,t,r,s){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Kt(l))continue;const u=t[l];let c;n&&te(n,c=Fe(l))?!i||!i.includes(c)?r[c]=u:(a||(a={}))[c]=u:on(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=ee(r),u=a||oe;for(let c=0;c<i.length;c++){const h=i[c];r[h]=ri(n,l,h,u[h],e,!te(u,h))}}return o}function ri(e,t,r,s,n,i){const o=e[r];if(o!=null){const a=te(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:u}=n;if(r in u)s=u[r];else{const c=as(n);s=u[r]=l.call(null,t),c()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Xt(r))&&(s=!0))}return s}const Yh=new WeakMap;function tc(e,t,r=!1){const s=r?Yh:t.propsCache,n=s.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!J(e)){const c=h=>{l=!0;const[d,f]=tc(h,t,!0);we(o,d),f&&a.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return ae(e)&&s.set(e,dr),dr;if(z(i))for(let c=0;c<i.length;c++){const h=Fe(i[c]);xo(h)&&(o[h]=oe)}else if(i)for(const c in i){const h=Fe(c);if(xo(h)){const d=i[c],f=o[h]=z(d)||J(d)?{type:d}:we({},d),g=f.type;let y=!1,v=!0;if(z(g))for(let b=0;b<g.length;++b){const S=g[b],p=J(S)&&S.name;if(p==="Boolean"){y=!0;break}else p==="String"&&(v=!1)}else y=J(g)&&g.name==="Boolean";f[0]=y,f[1]=v,(y||te(f,"default"))&&a.push(h)}}const u=[o,a];return ae(e)&&s.set(e,u),u}function xo(e){return e[0]!=="$"&&!Kt(e)}const Wi=e=>e==="_"||e==="_ctx"||e==="$stable",Ki=e=>z(e)?e.map(Ue):[Ue(e)],Xh=(e,t,r)=>{if(t._n)return t;const s=Mi((...n)=>Ki(t(...n)),r);return s._c=!1,s},rc=(e,t,r)=>{const s=e._ctx;for(const n in e){if(Wi(n))continue;const i=e[n];if(J(i))t[n]=Xh(n,i,s);else if(i!=null){const o=Ki(i);t[n]=()=>o}}},sc=(e,t)=>{const r=Ki(t);e.slots.default=()=>r},nc=(e,t,r)=>{for(const s in t)(r||!Wi(s))&&(e[s]=t[s])},Qh=(e,t,r)=>{const s=e.slots=Ql();if(e.vnode.shapeFlag&32){const n=t._;n?(nc(s,t,r),r&&tl(s,"_",n,!0)):rc(t,s)}else t&&sc(e,t)},Zh=(e,t,r)=>{const{vnode:s,slots:n}=e;let i=!0,o=oe;if(s.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:nc(n,t,r):(i=!t.$stable,rc(t,n)),o=t}else t&&(sc(e,t),o={default:1});if(i)for(const a in n)!Wi(a)&&o[a]==null&&delete n[a]},Ce=dc;function ef(e){return ic(e)}function tf(e){return ic(e,Sh)}function ic(e,t){const r=en();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=st,insertStaticContent:g}=e,y=(m,w,T,x=null,R=null,O=null,U=void 0,N=null,$=!!w.dynamicChildren)=>{if(m===w)return;m&&!rt(m,w)&&(x=us(m),Qe(m,R,O,!0),m=null),w.patchFlag===-2&&($=!1,w.dynamicChildren=null);const{type:C,ref:K,shapeFlag:L}=w;switch(C){case zt:v(m,w,T,x);break;case Te:b(m,w,T,x);break;case Ts:m==null&&S(w,T,x,U);break;case Ne:P(m,w,T,x,R,O,U,N,$);break;default:L&1?E(m,w,T,x,R,O,U,N,$):L&6?W(m,w,T,x,R,O,U,N,$):(L&64||L&128)&&C.process(m,w,T,x,R,O,U,N,$,Qt)}K!=null&&R?yr(K,m&&m.ref,O,w||m,!w):K==null&&m&&m.ref!=null&&yr(m.ref,null,O,m,!0)},v=(m,w,T,x)=>{if(m==null)s(w.el=a(w.children),T,x);else{const R=w.el=m.el;w.children!==m.children&&u(R,w.children)}},b=(m,w,T,x)=>{m==null?s(w.el=l(w.children||""),T,x):w.el=m.el},S=(m,w,T,x)=>{[m.el,m.anchor]=g(m.children,w,T,x,m.el,m.anchor)},p=({el:m,anchor:w},T,x)=>{let R;for(;m&&m!==w;)R=d(m),s(m,T,x),m=R;s(w,T,x)},_=({el:m,anchor:w})=>{let T;for(;m&&m!==w;)T=d(m),n(m),m=T;n(w)},E=(m,w,T,x,R,O,U,N,$)=>{if(w.type==="svg"?U="svg":w.type==="math"&&(U="mathml"),m==null)k(w,T,x,R,O,U,N,$);else{const C=m.el&&m.el._isVueCE?m.el:null;try{C&&C._beginPatch(),I(m,w,R,O,U,N,$)}finally{C&&C._endPatch()}}},k=(m,w,T,x,R,O,U,N)=>{let $,C;const{props:K,shapeFlag:L,transition:q,dirs:Y}=m;if($=m.el=o(m.type,O,K&&K.is,K),L&8?c($,m.children):L&16&&D(m.children,$,null,x,R,An(m,O),U,N),Y&&tt(m,null,x,"created"),A($,m,m.scopeId,U,x),K){for(const se in K)se!=="value"&&!Kt(se)&&i($,se,null,K[se],O,x);"value"in K&&i($,"value",null,K.value,O),(C=K.onVnodeBeforeMount)&&Be(C,x,m)}Y&&tt(m,null,x,"beforeMount");const Z=oc(R,q);Z&&q.beforeEnter($),s($,w,T),((C=K&&K.onVnodeMounted)||Z||Y)&&Ce(()=>{C&&Be(C,x,m),Z&&q.enter($),Y&&tt(m,null,x,"mounted")},R)},A=(m,w,T,x,R)=>{if(T&&f(m,T),x)for(let O=0;O<x.length;O++)f(m,x[O]);if(R){let O=R.subTree;if(w===O||uc(O.type)&&(O.ssContent===w||O.ssFallback===w)){const U=R.vnode;A(m,U,U.scopeId,U.slotScopeIds,R.parent)}}},D=(m,w,T,x,R,O,U,N,$=0)=>{for(let C=$;C<m.length;C++){const K=m[C]=N?vt(m[C]):Ue(m[C]);y(null,K,w,T,x,R,O,U,N)}},I=(m,w,T,x,R,O,U)=>{const N=w.el=m.el;let{patchFlag:$,dynamicChildren:C,dirs:K}=w;$|=m.patchFlag&16;const L=m.props||oe,q=w.props||oe;let Y;if(T&&It(T,!1),(Y=q.onVnodeBeforeUpdate)&&Be(Y,T,w,m),K&&tt(w,m,T,"beforeUpdate"),T&&It(T,!0),(L.innerHTML&&q.innerHTML==null||L.textContent&&q.textContent==null)&&c(N,""),C?j(m.dynamicChildren,C,N,T,x,An(w,R),O):U||B(m,w,N,null,T,x,An(w,R),O,!1),$>0){if($&16)M(N,L,q,T,R);else if($&2&&L.class!==q.class&&i(N,"class",null,q.class,R),$&4&&i(N,"style",L.style,q.style,R),$&8){const Z=w.dynamicProps;for(let se=0;se<Z.length;se++){const re=Z[se],Oe=L[re],Ee=q[re];(Ee!==Oe||re==="value")&&i(N,re,Oe,Ee,R,T)}}$&1&&m.children!==w.children&&c(N,w.children)}else!U&&C==null&&M(N,L,q,T,R);((Y=q.onVnodeUpdated)||K)&&Ce(()=>{Y&&Be(Y,T,w,m),K&&tt(w,m,T,"updated")},x)},j=(m,w,T,x,R,O,U)=>{for(let N=0;N<w.length;N++){const $=m[N],C=w[N],K=$.el&&($.type===Ne||!rt($,C)||$.shapeFlag&198)?h($.el):T;y($,C,K,null,x,R,O,U,!0)}},M=(m,w,T,x,R)=>{if(w!==T){if(w!==oe)for(const O in w)!Kt(O)&&!(O in T)&&i(m,O,w[O],null,R,x);for(const O in T){if(Kt(O))continue;const U=T[O],N=w[O];U!==N&&O!=="value"&&i(m,O,N,U,R,x)}"value"in T&&i(m,"value",w.value,T.value,R)}},P=(m,w,T,x,R,O,U,N,$)=>{const C=w.el=m?m.el:a(""),K=w.anchor=m?m.anchor:a("");let{patchFlag:L,dynamicChildren:q,slotScopeIds:Y}=w;Y&&(N=N?N.concat(Y):Y),m==null?(s(C,T,x),s(K,T,x),D(w.children||[],T,K,R,O,U,N,$)):L>0&&L&64&&q&&m.dynamicChildren&&m.dynamicChildren.length===q.length?(j(m.dynamicChildren,q,T,R,O,U,N),(w.key!=null||R&&w===R.subTree)&&ac(m,w,!0)):B(m,w,T,K,R,O,U,N,$)},W=(m,w,T,x,R,O,U,N,$)=>{w.slotScopeIds=N,m==null?w.shapeFlag&512?R.ctx.activate(w,T,x,U,$):Q(w,T,x,R,O,U,$):le(m,w,$)},Q=(m,w,T,x,R,O,U)=>{const N=m.component=pf(m,x,R);if(is(m)&&(N.ctx.renderer=Qt),gf(N,!1,U),N.asyncDep){if(R&&R.registerDep(N,H,U),!m.el){const $=N.subTree=_e(Te);b(null,$,w,T),m.placeholder=$.el}}else H(N,m,w,T,R,O,U)},le=(m,w,T)=>{const x=w.component=m.component;if(Gh(m,w,T))if(x.asyncDep&&!x.asyncResolved){X(x,w,T);return}else x.next=w,x.update();else w.el=m.el,x.vnode=w},H=(m,w,T,x,R,O,U)=>{const N=()=>{if(m.isMounted){let{next:L,bu:q,u:Y,parent:Z,vnode:se}=m;{const Ie=lc(m);if(Ie){L&&(L.el=se.el,X(m,L,U)),Ie.asyncDep.then(()=>{m.isUnmounted||N()});return}}let re=L,Oe;It(m,!1),L?(L.el=se.el,X(m,L,U)):L=se,q&&mn(q),(Oe=L.props&&L.props.onVnodeBeforeUpdate)&&Be(Oe,Z,L,se),It(m,!0);const Ee=Tn(m),qe=m.subTree;m.subTree=Ee,y(qe,Ee,h(qe.el),us(qe),m,R,O),L.el=Ee.el,re===null&&an(m,Ee.el),Y&&Ce(Y,R),(Oe=L.props&&L.props.onVnodeUpdated)&&Ce(()=>Be(Oe,Z,L,se),R)}else{let L;const{el:q,props:Y}=w,{bm:Z,m:se,parent:re,root:Oe,type:Ee}=m,qe=mr(w);if(It(m,!1),Z&&mn(Z),!qe&&(L=Y&&Y.onVnodeBeforeMount)&&Be(L,re,w),It(m,!0),q&&gn){const Ie=()=>{m.subTree=Tn(m),gn(q,m.subTree,m,R,null)};qe&&Ee.__asyncHydrate?Ee.__asyncHydrate(q,m,Ie):Ie()}else{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Ee);const Ie=m.subTree=Tn(m);y(null,Ie,T,x,m,R,O),w.el=Ie.el}if(se&&Ce(se,R),!qe&&(L=Y&&Y.onVnodeMounted)){const Ie=w;Ce(()=>Be(L,re,Ie),R)}(w.shapeFlag&256||re&&mr(re.vnode)&&re.vnode.shapeFlag&256)&&m.a&&Ce(m.a,R),m.isMounted=!0,w=T=x=null}};m.scope.on();const $=m.effect=new cl(N);m.scope.off();const C=m.update=$.run.bind($),K=m.job=$.runIfDirty.bind($);K.i=m,K.id=m.uid,$.scheduler=()=>Di(K),It(m,!0),C()},X=(m,w,T)=>{w.component=m;const x=m.vnode.props;m.vnode=w,m.next=null,zh(m,w.props,x,T),Zh(m,w.children,T),ht(),_o(m),ft()},B=(m,w,T,x,R,O,U,N,$=!1)=>{const C=m&&m.children,K=m?m.shapeFlag:0,L=w.children,{patchFlag:q,shapeFlag:Y}=w;if(q>0){if(q&128){cs(C,L,T,x,R,O,U,N,$);return}else if(q&256){ce(C,L,T,x,R,O,U,N,$);return}}Y&8?(K&16&&Rr(C,R,O),L!==C&&c(T,L)):K&16?Y&16?cs(C,L,T,x,R,O,U,N,$):Rr(C,R,O,!0):(K&8&&c(T,""),Y&16&&D(L,T,x,R,O,U,N,$))},ce=(m,w,T,x,R,O,U,N,$)=>{m=m||dr,w=w||dr;const C=m.length,K=w.length,L=Math.min(C,K);let q;for(q=0;q<L;q++){const Y=w[q]=$?vt(w[q]):Ue(w[q]);y(m[q],Y,T,null,R,O,U,N,$)}C>K?Rr(m,R,O,!0,!1,L):D(w,T,x,R,O,U,N,$,L)},cs=(m,w,T,x,R,O,U,N,$)=>{let C=0;const K=w.length;let L=m.length-1,q=K-1;for(;C<=L&&C<=q;){const Y=m[C],Z=w[C]=$?vt(w[C]):Ue(w[C]);if(rt(Y,Z))y(Y,Z,T,null,R,O,U,N,$);else break;C++}for(;C<=L&&C<=q;){const Y=m[L],Z=w[q]=$?vt(w[q]):Ue(w[q]);if(rt(Y,Z))y(Y,Z,T,null,R,O,U,N,$);else break;L--,q--}if(C>L){if(C<=q){const Y=q+1,Z=Y<K?w[Y].el:x;for(;C<=q;)y(null,w[C]=$?vt(w[C]):Ue(w[C]),T,Z,R,O,U,N,$),C++}}else if(C>q)for(;C<=L;)Qe(m[C],R,O,!0),C++;else{const Y=C,Z=C,se=new Map;for(C=Z;C<=q;C++){const $e=w[C]=$?vt(w[C]):Ue(w[C]);$e.key!=null&&se.set($e.key,C)}let re,Oe=0;const Ee=q-Z+1;let qe=!1,Ie=0;const Or=new Array(Ee);for(C=0;C<Ee;C++)Or[C]=0;for(C=Y;C<=L;C++){const $e=m[C];if(Oe>=Ee){Qe($e,R,O,!0);continue}let Ze;if($e.key!=null)Ze=se.get($e.key);else for(re=Z;re<=q;re++)if(Or[re-Z]===0&&rt($e,w[re])){Ze=re;break}Ze===void 0?Qe($e,R,O,!0):(Or[Ze-Z]=C+1,Ze>=Ie?Ie=Ze:qe=!0,y($e,w[Ze],T,null,R,O,U,N,$),Oe++)}const ho=qe?rf(Or):dr;for(re=ho.length-1,C=Ee-1;C>=0;C--){const $e=Z+C,Ze=w[$e],fo=w[$e+1],po=$e+1<K?fo.el||cc(fo):x;Or[C]===0?y(null,Ze,T,po,R,O,U,N,$):qe&&(re<0||C!==ho[re]?Pt(Ze,T,po,2):re--)}}},Pt=(m,w,T,x,R=null)=>{const{el:O,type:U,transition:N,children:$,shapeFlag:C}=m;if(C&6){Pt(m.component.subTree,w,T,x);return}if(C&128){m.suspense.move(w,T,x);return}if(C&64){U.move(m,w,T,Qt);return}if(U===Ne){s(O,w,T);for(let L=0;L<$.length;L++)Pt($[L],w,T,x);s(m.anchor,w,T);return}if(U===Ts){p(m,w,T);return}if(x!==2&&C&1&&N)if(x===0)N.beforeEnter(O),s(O,w,T),Ce(()=>N.enter(O),R);else{const{leave:L,delayLeave:q,afterLeave:Y}=N,Z=()=>{m.ctx.isUnmounted?n(O):s(O,w,T)},se=()=>{O._isLeaving&&O[lt](!0),L(O,()=>{Z(),Y&&Y()})};q?q(O,Z,se):se()}else s(O,w,T)},Qe=(m,w,T,x=!1,R=!1)=>{const{type:O,props:U,ref:N,children:$,dynamicChildren:C,shapeFlag:K,patchFlag:L,dirs:q,cacheIndex:Y}=m;if(L===-2&&(R=!1),N!=null&&(ht(),yr(N,null,T,m,!0),ft()),Y!=null&&(w.renderCache[Y]=void 0),K&256){w.ctx.deactivate(m);return}const Z=K&1&&q,se=!mr(m);let re;if(se&&(re=U&&U.onVnodeBeforeUnmount)&&Be(re,w,m),K&6)bu(m.component,T,x);else{if(K&128){m.suspense.unmount(T,x);return}Z&&tt(m,null,w,"beforeUnmount"),K&64?m.type.remove(m,w,T,Qt,x):C&&!C.hasOnce&&(O!==Ne||L>0&&L&64)?Rr(C,w,T,!1,!0):(O===Ne&&L&384||!R&&K&16)&&Rr($,w,T),x&&co(m)}(se&&(re=U&&U.onVnodeUnmounted)||Z)&&Ce(()=>{re&&Be(re,w,m),Z&&tt(m,null,w,"unmounted")},T)},co=m=>{const{type:w,el:T,anchor:x,transition:R}=m;if(w===Ne){vu(T,x);return}if(w===Ts){_(m);return}const O=()=>{n(T),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(m.shapeFlag&1&&R&&!R.persisted){const{leave:U,delayLeave:N}=R,$=()=>U(T,O);N?N(m.el,O,$):$()}else O()},vu=(m,w)=>{let T;for(;m!==w;)T=d(m),n(m),m=T;n(w)},bu=(m,w,T)=>{const{bum:x,scope:R,job:O,subTree:U,um:N,m:$,a:C}=m;Po($),Po(C),x&&mn(x),R.stop(),O&&(O.flags|=8,Qe(U,m,w,T)),N&&Ce(N,w),Ce(()=>{m.isUnmounted=!0},w)},Rr=(m,w,T,x=!1,R=!1,O=0)=>{for(let U=O;U<m.length;U++)Qe(m[U],w,T,x,R)},us=m=>{if(m.shapeFlag&6)return us(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const w=d(m.anchor||m.el),T=w&&w[yh];return T?d(T):w};let dn=!1;const uo=(m,w,T)=>{let x;m==null?w._vnode&&(Qe(w._vnode,null,null,!0),x=w._vnode.component):y(w._vnode||null,m,w,null,null,null,T),w._vnode=m,dn||(dn=!0,_o(x),$s(),dn=!1)},Qt={p:y,um:Qe,m:Pt,r:co,mt:Q,mc:D,pc:B,pbc:j,n:us,o:e};let pn,gn;return t&&([pn,gn]=t(Qt)),{render:uo,hydrate:pn,createApp:Bh(uo,pn)}}function An({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function It({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function oc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ac(e,t,r=!1){const s=e.children,n=t.children;if(z(s)&&z(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=vt(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&ac(o,a)),a.type===zt&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(e.type===Ne?1:0)),a.type===Te&&!a.el&&(a.el=o.el)}}function rf(e){const t=e.slice(),r=[0];let s,n,i,o,a;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(n=r[r.length-1],e[n]<u){t[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<u?i=a+1:o=a;u<e[r[i]]&&(i>0&&(t[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function lc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:lc(t)}function Po(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function cc(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?cc(t.subTree):null}const uc=e=>e.__isSuspense;let si=0;const sf={name:"Suspense",__isSuspense:!0,process(e,t,r,s,n,i,o,a,l,u){if(e==null)nf(t,r,s,n,i,o,a,l,u);else{if(i&&i.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}of(e,t,r,s,n,o,a,l,u)}},hydrate:af,normalize:lf},hc=sf;function Gr(e,t){const r=e.props&&e.props[t];J(r)&&r()}function nf(e,t,r,s,n,i,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),d=e.suspense=fc(e,n,s,t,h,r,i,o,a,l);u(null,d.pendingBranch=e.ssContent,h,null,s,d,i,o),d.deps>0?(Gr(e,"onPending"),Gr(e,"onFallback"),u(null,e.ssFallback,t,r,s,null,i,o),_r(d,e.ssFallback)):d.resolve(!1,!0)}function of(e,t,r,s,n,i,o,a,{p:l,um:u,o:{createElement:c}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,f=t.ssFallback,{activeBranch:g,pendingBranch:y,isInFallback:v,isHydrating:b}=h;if(y)h.pendingBranch=d,rt(y,d)?(l(y,d,h.hiddenContainer,null,n,h,i,o,a),h.deps<=0?h.resolve():v&&(b||(l(g,f,r,s,n,null,i,o,a),_r(h,f)))):(h.pendingId=si++,b?(h.isHydrating=!1,h.activeBranch=y):u(y,n,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),v?(l(null,d,h.hiddenContainer,null,n,h,i,o,a),h.deps<=0?h.resolve():(l(g,f,r,s,n,null,i,o,a),_r(h,f))):g&&rt(g,d)?(l(g,d,r,s,n,h,i,o,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,n,h,i,o,a),h.deps<=0&&h.resolve()));else if(g&&rt(g,d))l(g,d,r,s,n,h,i,o,a),_r(h,d);else if(Gr(t,"onPending"),h.pendingBranch=d,d.shapeFlag&512?h.pendingId=d.component.suspenseId:h.pendingId=si++,l(null,d,h.hiddenContainer,null,n,h,i,o,a),h.deps<=0)h.resolve();else{const{timeout:S,pendingId:p}=h;S>0?setTimeout(()=>{h.pendingId===p&&h.fallback(f)},S):S===0&&h.fallback(f)}}function fc(e,t,r,s,n,i,o,a,l,u,c=!1){const{p:h,m:d,um:f,n:g,o:{parentNode:y,remove:v}}=u;let b;const S=cf(e);S&&t&&t.pendingBranch&&(b=t.pendingId,t.deps++);const p=e.props?rl(e.props.timeout):void 0,_=i,E={vnode:e,parent:t,parentComponent:r,namespace:o,container:s,hiddenContainer:n,deps:0,pendingId:si++,timeout:typeof p=="number"?p:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(k=!1,A=!1){const{vnode:D,activeBranch:I,pendingBranch:j,pendingId:M,effects:P,parentComponent:W,container:Q,isInFallback:le}=E;let H=!1;E.isHydrating?E.isHydrating=!1:k||(H=I&&j.transition&&j.transition.mode==="out-in",H&&(I.transition.afterLeave=()=>{M===E.pendingId&&(d(j,Q,i===_?g(I):i,0),Xn(P),le&&D.ssFallback&&(D.ssFallback.el=null))}),I&&(y(I.el)===Q&&(i=g(I)),f(I,W,E,!0),!H&&le&&D.ssFallback&&Ce(()=>D.ssFallback.el=null,E)),H||d(j,Q,i,0)),_r(E,j),E.pendingBranch=null,E.isInFallback=!1;let X=E.parent,B=!1;for(;X;){if(X.pendingBranch){X.effects.push(...P),B=!0;break}X=X.parent}!B&&!H&&Xn(P),E.effects=[],S&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,t.deps===0&&!A&&t.resolve()),Gr(D,"onResolve")},fallback(k){if(!E.pendingBranch)return;const{vnode:A,activeBranch:D,parentComponent:I,container:j,namespace:M}=E;Gr(A,"onFallback");const P=g(D),W=()=>{E.isInFallback&&(h(null,k,j,P,I,null,M,a,l),_r(E,k))},Q=k.transition&&k.transition.mode==="out-in";Q&&(D.transition.afterLeave=W),E.isInFallback=!0,f(D,I,null,!0),Q||W()},move(k,A,D){E.activeBranch&&d(E.activeBranch,k,A,D),E.container=k},next(){return E.activeBranch&&g(E.activeBranch)},registerDep(k,A,D){const I=!!E.pendingBranch;I&&E.deps++;const j=k.vnode.el;k.asyncDep.catch(M=>{kr(M,k,0)}).then(M=>{if(k.isUnmounted||E.isUnmounted||E.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:P}=k;ii(k,M),j&&(P.el=j);const W=!j&&k.subTree.el;A(k,P,y(j||k.subTree.el),j?null:g(k.subTree),E,o,D),W&&(P.placeholder=null,v(W)),an(k,P.el),I&&--E.deps===0&&E.resolve()})},unmount(k,A){E.isUnmounted=!0,E.activeBranch&&f(E.activeBranch,r,k,A),E.pendingBranch&&f(E.pendingBranch,r,k,A)}};return E}function af(e,t,r,s,n,i,o,a,l){const u=t.suspense=fc(t,s,r,e.parentNode,document.createElement("div"),null,n,i,o,a,!0),c=l(e,u.pendingBranch=t.ssContent,r,u,i,o);return u.deps===0&&u.resolve(!1,!0),c}function lf(e){const{shapeFlag:t,children:r}=e,s=t&32;e.ssContent=Io(s?r.default:r),e.ssFallback=s?Io(r.fallback):_e(Te)}function Io(e){let t;if(J(e)){const r=vr&&e._c;r&&(e._d=!1,ct()),e=e(),r&&(e._d=!0,t=Pe,pc())}return z(e)&&(e=Wh(e)),e=Ue(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function dc(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):Xn(e)}function _r(e,t){e.activeBranch=t;const{vnode:r,parentComponent:s}=e;let n=t.el;for(;!n&&t.component;)t=t.component.subTree,n=t.el;r.el=n,s&&s.subTree===r&&(s.vnode.el=n,an(s,n))}function cf(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Ne=Symbol.for("v-fgt"),zt=Symbol.for("v-txt"),Te=Symbol.for("v-cmt"),Ts=Symbol.for("v-stc"),Lr=[];let Pe=null;function ct(e=!1){Lr.push(Pe=e?null:[])}function pc(){Lr.pop(),Pe=Lr[Lr.length-1]||null}let vr=1;function Ds(e,t=!1){vr+=e,e<0&&Pe&&t&&(Pe.hasOnce=!0)}function gc(e){return e.dynamicChildren=vr>0?Pe||dr:null,pc(),vr>0&&Pe&&Pe.push(e),e}function uf(e,t,r,s,n,i){return gc(mc(e,t,r,s,n,i,!0))}function Bt(e,t,r,s,n){return gc(_e(e,t,r,s,n,!0))}function Jr(e){return e?e.__v_isVNode===!0:!1}function rt(e,t){return e.type===t.type&&e.key===t.key}const yc=({key:e})=>e??null,As=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||pe(e)||J(e)?{i:Je,r:e,k:t,f:!!r}:e:null);function mc(e,t=null,r=null,s=0,n=null,i=e===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yc(t),ref:t&&As(t),scopeId:xl,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Je};return a?(Vi(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=fe(r)?8:16),vr>0&&!o&&Pe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pe.push(l),l}const _e=hf;function hf(e,t=null,r=null,s=0,n=null,i=!1){if((!e||e===Kl)&&(e=Te),Jr(e)){const a=Ot(e,t,!0);return r&&Vi(a,r),vr>0&&!i&&Pe&&(a.shapeFlag&6?Pe[Pe.indexOf(e)]=a:Pe.push(a)),a.patchFlag=-2,a}if(vf(e)&&(e=e.__vccOpts),t){t=_c(t);let{class:a,style:l}=t;a&&!fe(a)&&(t.class=rn(a)),ae(l)&&(sn(l)&&!z(l)&&(l=we({},l)),t.style=tn(l))}const o=fe(e)?1:uc(e)?128:Il(e)?64:ae(e)?4:J(e)?2:0;return mc(e,t,r,s,n,o,i,!0)}function _c(e){return e?sn(e)||Zl(e)?we({},e):e:null}function Ot(e,t,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?vc(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&yc(u),ref:t&&t.ref?r&&i?z(i)?i.concat(As(t)):[i,As(t)]:As(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ne?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ot(e.ssContent),ssFallback:e.ssFallback&&Ot(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Vr(c,l.clone(c)),c}function wc(e=" ",t=0){return _e(zt,null,e,t)}function Ue(e){return e==null||typeof e=="boolean"?_e(Te):z(e)?_e(Ne,null,e.slice()):Jr(e)?vt(e):_e(zt,null,String(e))}function vt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ot(e)}function Vi(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(z(t))r=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Vi(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!Zl(t)?t._ctx=Je:n===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else J(t)?(t={default:t,_ctx:Je},r=32):(t=String(t),s&64?(r=16,t=[wc(t)]):r=8);e.children=t,e.shapeFlag|=r}function vc(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=rn([t.class,s.class]));else if(n==="style")t.style=tn([t.style,s.style]);else if(ss(n)){const i=t[n],o=s[n];o&&i!==o&&!(z(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=s[n])}return t}function Be(e,t,r,s=null){Ye(e,t,7,[r,s])}const ff=zl();let df=0;function pf(e,t,r){const s=e.type,n=(t?t.appContext:e.appContext)||ff,i={uid:df++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tc(s,n),emitsOptions:Yl(s,n),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Fh.bind(null,i),e.ce&&e.ce(i),i}let Se=null;const os=()=>Se||Je;let Ms,ni;{const e=en(),t=(r,s)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ms=t("__VUE_INSTANCE_SETTERS__",r=>Se=r),ni=t("__VUE_SSR_SETTERS__",r=>br=r)}const as=e=>{const t=Se;return Ms(e),e.scope.on(),()=>{e.scope.off(),Ms(t)}},$o=()=>{Se&&Se.scope.off(),Ms(null)};function bc(e){return e.vnode.shapeFlag&4}let br=!1;function gf(e,t=!1,r=!1){t&&ni(t);const{props:s,children:n}=e.vnode,i=bc(e);Jh(e,s,i,t),Qh(e,n,r||t);const o=i?yf(e,t):void 0;return t&&ni(!1),o}function yf(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$h);const{setup:s}=r;if(s){ht();const n=e.setupContext=s.length>1?_f(e):null,i=as(e),o=ns(s,e,0,[e.props,n]),a=Qa(o);if(ft(),i(),(a||e.sp)&&!mr(e)&&Fi(e),a){if(o.then($o,$o),t)return o.then(l=>{ii(e,l)}).catch(l=>{kr(l,e,0)});e.asyncDep=o}else ii(e,o)}else Sc(e)}function ii(e,t,r){J(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ae(t)&&(e.setupState=Tl(t)),Sc(e)}function Sc(e,t,r){const s=e.type;e.render||(e.render=s.render||st);{const n=as(e);ht();try{jh(e)}finally{ft(),n()}}}const mf={get(e,t){return ke(e,"get",""),e[t]}};function _f(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,mf),slots:e.slots,emit:e.emit,expose:t}}function Gi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Tl(El(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Ur)return Ur[r](e)},has(t,r){return r in t||r in Ur}})):e.proxy}function wf(e,t=!0){return J(e)?e.displayName||e.name:e.name||t&&e.__name}function vf(e){return J(e)&&"__vccOpts"in e}const Ji=(e,t)=>ah(e,t,br);function Yt(e,t,r){try{Ds(-1);const s=arguments.length;return s===2?ae(t)&&!z(t)?Jr(t)?_e(e,null,[t]):_e(e,t):_e(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Jr(r)&&(r=[r]),_e(e,t,r))}finally{Ds(1)}}const bf="3.5.27";let oi;const jo=typeof window<"u"&&window.trustedTypes;if(jo)try{oi=jo.createPolicy("vue",{createHTML:e=>e})}catch{}const Ec=oi?e=>oi.createHTML(e):e=>e,Sf="http://www.w3.org/2000/svg",Ef="http://www.w3.org/1998/Math/MathML",ot=typeof document<"u"?document:null,No=ot&&ot.createElement("template"),kf={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const n=t==="svg"?ot.createElementNS(Sf,e):t==="mathml"?ot.createElementNS(Ef,e):r?ot.createElement(e,{is:r}):ot.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>ot.createTextNode(e),createComment:e=>ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,n,i){const o=r?r.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{No.innerHTML=Ec(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=No.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},mt="transition",xr="animation",zr=Symbol("_vtc"),kc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Tf=we({},$l,kc),Af=e=>(e.displayName="Transition",e.props=Tf,e),Rf=Af((e,{slots:t})=>Yt(wh,Of(e),t)),$t=(e,t=[])=>{z(e)?e.forEach(r=>r(...t)):e&&e(...t)},Uo=e=>e?z(e)?e.some(t=>t.length>1):e.length>1:!1;function Of(e){const t={};for(const P in e)P in kc||(t[P]=e[P]);if(e.css===!1)return t;const{name:r="v",type:s,duration:n,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,g=Cf(n),y=g&&g[0],v=g&&g[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:p,onLeave:_,onLeaveCancelled:E,onBeforeAppear:k=b,onAppear:A=S,onAppearCancelled:D=p}=t,I=(P,W,Q,le)=>{P._enterCancelled=le,jt(P,W?c:a),jt(P,W?u:o),Q&&Q()},j=(P,W)=>{P._isLeaving=!1,jt(P,h),jt(P,f),jt(P,d),W&&W()},M=P=>(W,Q)=>{const le=P?A:S,H=()=>I(W,P,Q);$t(le,[W,H]),Lo(()=>{jt(W,P?l:i),it(W,P?c:a),Uo(le)||Do(W,s,y,H)})};return we(t,{onBeforeEnter(P){$t(b,[P]),it(P,i),it(P,o)},onBeforeAppear(P){$t(k,[P]),it(P,l),it(P,u)},onEnter:M(!1),onAppear:M(!0),onLeave(P,W){P._isLeaving=!0;const Q=()=>j(P,W);it(P,h),P._enterCancelled?(it(P,d),Ho(P)):(Ho(P),it(P,d)),Lo(()=>{P._isLeaving&&(jt(P,h),it(P,f),Uo(_)||Do(P,s,v,Q))}),$t(_,[P,Q])},onEnterCancelled(P){I(P,!1,void 0,!0),$t(p,[P])},onAppearCancelled(P){I(P,!0,void 0,!0),$t(D,[P])},onLeaveCancelled(P){j(P),$t(E,[P])}})}function Cf(e){if(e==null)return null;if(ae(e))return[Rn(e.enter),Rn(e.leave)];{const t=Rn(e);return[t,t]}}function Rn(e){return rl(e)}function it(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[zr]||(e[zr]=new Set)).add(t)}function jt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[zr];r&&(r.delete(t),r.size||(e[zr]=void 0))}function Lo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xf=0;function Do(e,t,r,s){const n=e._endId=++xf,i=()=>{n===e._endId&&s()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=Pf(e,t);if(!o)return s();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,d),i()},d=f=>{f.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,d)}function Pf(e,t){const r=window.getComputedStyle(e),s=g=>(r[g]||"").split(", "),n=s(`${mt}Delay`),i=s(`${mt}Duration`),o=Mo(n,i),a=s(`${xr}Delay`),l=s(`${xr}Duration`),u=Mo(a,l);let c=null,h=0,d=0;t===mt?o>0&&(c=mt,h=o,d=i.length):t===xr?u>0&&(c=xr,h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?mt:xr:null,d=c?c===mt?i.length:l.length:0);const f=c===mt&&/\b(?:transform|all)(?:,|$)/.test(s(`${mt}Property`).toString());return{type:c,timeout:h,propCount:d,hasTransform:f}}function Mo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>Bo(r)+Bo(e[s])))}function Bo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ho(e){return(e?e.ownerDocument:document).body.offsetHeight}function If(e,t,r){const s=e[zr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Fo=Symbol("_vod"),$f=Symbol("_vsh"),jf=Symbol(""),Nf=/(?:^|;)\s*display\s*:/;function Uf(e,t,r){const s=e.style,n=fe(r);let i=!1;if(r&&!n){if(t)if(fe(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Rs(s,a,"")}else for(const o in t)r[o]==null&&Rs(s,o,"");for(const o in r)o==="display"&&(i=!0),Rs(s,o,r[o])}else if(n){if(t!==r){const o=s[jf];o&&(r+=";"+o),s.cssText=r,i=Nf.test(r)}}else t&&e.removeAttribute("style");Fo in e&&(e[Fo]=i?s.display:"",e[$f]&&(s.display="none"))}const qo=/\s*!important$/;function Rs(e,t,r){if(z(r))r.forEach(s=>Rs(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Lf(e,t);qo.test(r)?e.setProperty(Xt(s),r.replace(qo,""),"important"):e[s]=r}}const Wo=["Webkit","Moz","ms"],On={};function Lf(e,t){const r=On[t];if(r)return r;let s=Fe(t);if(s!=="filter"&&s in e)return On[t]=s;s=Zs(s);for(let n=0;n<Wo.length;n++){const i=Wo[n]+s;if(i in e)return On[t]=i}return t}const Ko="http://www.w3.org/1999/xlink";function Vo(e,t,r,s,n,i=$u(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Ko,t.slice(6,t.length)):e.setAttributeNS(Ko,t,r):r==null||i&&!sl(r)?e.removeAttribute(t):e.setAttribute(t,i?"":xt(r)?String(r):r)}function Go(e,t,r,s,n){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Ec(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=sl(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(n||t)}function Df(e,t,r,s){e.addEventListener(t,r,s)}function Mf(e,t,r,s){e.removeEventListener(t,r,s)}const Jo=Symbol("_vei");function Bf(e,t,r,s,n=null){const i=e[Jo]||(e[Jo]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=Hf(t);if(s){const u=i[t]=Wf(s,n);Df(e,a,u,l)}else o&&(Mf(e,a,o,l),i[t]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function Hf(e){let t;if(zo.test(e)){t={};let s;for(;s=e.match(zo);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xt(e.slice(2)),t]}let Cn=0;const Ff=Promise.resolve(),qf=()=>Cn||(Ff.then(()=>Cn=0),Cn=Date.now());function Wf(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Ye(Kf(s,r.value),t,5,[s])};return r.value=e,r.attached=qf(),r}function Kf(e,t){if(z(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const Yo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Vf=(e,t,r,s,n,i)=>{const o=n==="svg";t==="class"?If(e,s,o):t==="style"?Uf(e,r,s):ss(t)?Oi(t)||Bf(e,t,r,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gf(e,t,s,o))?(Go(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Vo(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(s))?Go(e,Fe(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Vo(e,t,s,o))};function Gf(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yo(t)&&J(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Yo(t)&&fe(r)?!1:t in e}const Tc=we({patchProp:Vf},kf);let Dr,Xo=!1;function Jf(){return Dr||(Dr=ef(Tc))}function zf(){return Dr=Xo?Dr:tf(Tc),Xo=!0,Dr}const Yf=((...e)=>{const t=Jf().createApp(...e),{mount:r}=t;return t.mount=s=>{const n=Rc(s);if(!n)return;const i=t._component;!J(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,Ac(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t}),Xf=((...e)=>{const t=zf().createApp(...e),{mount:r}=t;return t.mount=s=>{const n=Rc(s);if(n)return r(n,!0,Ac(n))},t});function Ac(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rc(e){return fe(e)?document.querySelector(e):e}const Qf=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Zf=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ed=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function td(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){rd(e);return}return t}function rd(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Bs(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ed.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Qf.test(e)||Zf.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,td)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const sd=/#/g,nd=/&/g,id=/\//g,od=/=/g,zi=/\+/g,ad=/%5e/gi,ld=/%60/gi,cd=/%7c/gi,ud=/%20/gi;function hd(e){return encodeURI(""+e).replace(cd,"|")}function ai(e){return hd(typeof e=="string"?e:JSON.stringify(e)).replace(zi,"%2B").replace(ud,"+").replace(sd,"%23").replace(nd,"%26").replace(ld,"`").replace(ad,"^").replace(id,"%2F")}function xn(e){return ai(e).replace(od,"%3D")}function Hs(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function fd(e){return Hs(e.replace(zi," "))}function dd(e){return Hs(e.replace(zi," "))}function Yi(e=""){const t=Object.create(null);e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const s=r.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const n=fd(s[1]);if(n==="__proto__"||n==="constructor")continue;const i=dd(s[2]||"");t[n]===void 0?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]}return t}function pd(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${xn(e)}=${ai(r)}`).join("&"):`${xn(e)}=${ai(t)}`:xn(e)}function Oc(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>pd(t,e[t])).filter(Boolean).join("&")}const gd=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,yd=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,md=/^([/\\]\s*){2,}[^/\\]/,_d=/^[\s\0]*(blob|data|javascript|vbscript):$/i,wd=/\/$|\/\?|\/#/,vd=/^\.?\//;function Ar(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?gd.test(e):yd.test(e)||(t.acceptRelative?md.test(e):!1)}function bd(e){return!!e&&_d.test(e)}function li(e="",t){return t?wd.test(e):e.endsWith("/")}function Cc(e="",t){if(!t)return(li(e)?e.slice(0,-1):e)||"/";if(!li(e,!0))return e||"/";let r=e,s="";const n=e.indexOf("#");n!==-1&&(r=e.slice(0,n),s=e.slice(n));const[i,...o]=r.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+s}function ci(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(li(e,!0))return e||"/";let r=e,s="";const n=e.indexOf("#");if(n!==-1&&(r=e.slice(0,n),s=e.slice(n),!r))return s;const[i,...o]=r.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+s}function Sd(e=""){return e.startsWith("/")}function Qo(e=""){return Sd(e)?e:"/"+e}function Ed(e,t){if(Pc(t)||Ar(e))return e;const r=Cc(t);if(e.startsWith(r)){const s=e[r.length];if(!s||s==="/"||s==="?")return e}return ln(r,e)}function kd(e,t){if(Pc(t))return e;const r=Cc(t);if(!e.startsWith(r))return e;const s=e[r.length];if(s&&s!=="/"&&s!=="?")return e;const n=e.slice(r.length);return n[0]==="/"?n:"/"+n}function xc(e,t){const r=jc(e),s={...Yi(r.search),...t};return r.search=Oc(s),Nc(r)}function Pc(e){return!e||e==="/"}function Td(e){return e&&e!=="/"}function ln(e,...t){let r=e||"";for(const s of t.filter(n=>Td(n)))if(r){const n=s.replace(vd,"");r=ci(r)+n}else r=s;return r}function Ic(...e){const t=/\/(?!\/)/,r=e.filter(Boolean),s=[];let n=0;for(const o of r)if(!(!o||o==="/")){for(const[a,l]of o.split(t).entries())if(!(!l||l===".")){if(l===".."){if(s.length===1&&Ar(s[0]))continue;s.pop(),n--;continue}if(a===1&&s[s.length-1]?.endsWith(":/")){s[s.length-1]+="/"+l;continue}s.push(l),n++}}let i=s.join("/");return n>=0?r[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:r[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*n)+i,r[r.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function Ad(e,t,r={}){return r.trailingSlash||(e=ci(e),t=ci(t)),r.leadingSlash||(e=Qo(e),t=Qo(t)),r.encoding||(e=Hs(e),t=Hs(t)),e===t}const $c=Symbol.for("ufo:protocolRelative");function jc(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,h,d=""]=r;return{protocol:h.toLowerCase(),pathname:d,href:h+d,auth:"",host:"",search:"",hash:""}}if(!Ar(e,{acceptRelative:!0}))return Zo(e);const[,s="",n,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:c}=Zo(a);return{protocol:s.toLowerCase(),auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:o,pathname:l,search:u,hash:c,[$c]:!s}}function Zo(e=""){const[t="",r="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:s}}function Nc(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",n=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[$c]?(e.protocol||"")+"//":"")+n+i+t+r+s}class Rd extends Error{constructor(t,r){super(t,r),this.name="FetchError",r?.cause&&!this.cause&&(this.cause=r.cause)}}function Od(e){const t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",s=e.request?.url||String(e.request)||"/",n=`[${r}] ${JSON.stringify(s)}`,i=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=`${n}: ${i}${t?` ${t}`:""}`,a=new Rd(o,e.error?{cause:e.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return e[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return e.response&&e.response[u]}});return a}const Cd=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function ea(e="GET"){return Cd.has(e.toUpperCase())}function xd(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer||e instanceof FormData||e instanceof URLSearchParams?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Pd=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Id=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function $d(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Id.test(t)?"json":t==="text/event-stream"?"stream":Pd.has(t)||t.startsWith("text/")?"text":"blob"}function jd(e,t,r,s){const n=Nd(t?.headers??e?.headers,r?.headers,s);let i;return(r?.query||r?.params||t?.params||t?.query)&&(i={...r?.params,...r?.query,...t?.params,...t?.query}),{...r,...t,query:i,params:i,headers:n}}function Nd(e,t,r){if(!t)return new r(e);const s=new r(t);if(e)for(const[n,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))s.set(n,i);return s}async function _s(e,t){if(t)if(Array.isArray(t))for(const r of t)await r(e);else await t(e)}const Ud=new Set([408,409,425,429,500,502,503,504]),Ld=new Set([101,204,205,304]);function Uc(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function n(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let c;typeof a.options.retry=="number"?c=a.options.retry:c=ea(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(c>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):Ud.has(h))){const d=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return d>0&&await new Promise(f=>setTimeout(f,d)),i(a.request,{...a.options,retry:c-1})}}const u=Od(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const c={request:l,options:jd(l,u,e.defaults,r),response:void 0,error:void 0};if(c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&(await _s(c,c.options.onRequest),c.options.headers instanceof r||(c.options.headers=new r(c.options.headers||{}))),typeof c.request=="string"&&(c.options.baseURL&&(c.request=Ed(c.request,c.options.baseURL)),c.options.query&&(c.request=xc(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&ea(c.options.method))if(xd(c.options.body)){const f=c.options.headers.get("content-type");typeof c.options.body!="string"&&(c.options.body=f==="application/x-www-form-urlencoded"?new URLSearchParams(c.options.body).toString():JSON.stringify(c.options.body)),f||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")}else("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half"));let h;if(!c.options.signal&&c.options.timeout){const f=new s;h=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,f.abort(g)},c.options.timeout),c.options.signal=f.signal}try{c.response=await t(c.request,c.options)}catch(f){return c.error=f,c.options.onRequestError&&await _s(c,c.options.onRequestError),await n(c)}finally{h&&clearTimeout(h)}if((c.response.body||c.response._bodyInit)&&!Ld.has(c.response.status)&&c.options.method!=="HEAD"){const f=(c.options.parseResponse?"json":c.options.responseType)||$d(c.response.headers.get("content-type")||"");switch(f){case"json":{const g=await c.response.text(),y=c.options.parseResponse||Bs;c.response._data=y(g);break}case"stream":{c.response._data=c.response.body||c.response._bodyInit;break}default:c.response._data=await c.response[f]()}}return c.options.onResponse&&await _s(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await _s(c,c.options.onResponseError),await n(c)):c.response},o=async function(l,u){return(await i(l,u))._data};return o.raw=i,o.native=(...a)=>t(...a),o.create=(a={},l={})=>Uc({...e,...l,defaults:{...e.defaults,...l.defaults,...a}}),o}const Fs=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),Dd=Fs.fetch?(...e)=>Fs.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Md=Fs.Headers,Bd=Fs.AbortController,Hd=Uc({fetch:Dd,Headers:Md,AbortController:Bd}),Fd=Hd,qd=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Xi=()=>qd().app,Wd=()=>Xi().baseURL,Kd=()=>Xi().buildAssetsDir,Qi=(...e)=>Ic(Lc(),Kd(),...e),Lc=(...e)=>{const t=Xi(),r=t.cdnURL||t.baseURL;return e.length?Ic(r,...e):r};globalThis.__buildAssetsURL=Qi,globalThis.__publicAssetsURL=Lc;globalThis.$fetch||(globalThis.$fetch=Fd.create({baseURL:Wd()}));"global"in globalThis||(globalThis.global=globalThis);function ui(e,t={},r){for(const s in e){const n=e[s],i=r?`${r}:${s}`:s;typeof n=="object"&&n!==null?ui(n,t,i):typeof n=="function"&&(t[i]=n)}return t}const Vd={run:e=>e()},Gd=()=>Vd,Dc=typeof console.createTask<"u"?console.createTask:Gd;function Jd(e,t){const r=t.shift(),s=Dc(r);return e.reduce((n,i)=>n.then(()=>s.run(()=>i(...t))),Promise.resolve())}function zd(e,t){const r=t.shift(),s=Dc(r);return Promise.all(e.map(n=>s.run(()=>n(...t))))}function Pn(e,t){for(const r of[...e])r(t)}let Yd=class{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,r,s={}){if(!t||typeof r!="function")return()=>{};const n=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!s.allowDeprecated){let o=i.message;o||(o=`${n} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(r),()=>{r&&(this.removeHook(t,r),r=void 0)}}hookOnce(t,r){let s,n=(...i)=>(typeof s=="function"&&s(),s=void 0,n=void 0,r(...i));return s=this.hook(t,n),s}removeHook(t,r){if(this._hooks[t]){const s=this._hooks[t].indexOf(r);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,r){this._deprecatedHooks[t]=typeof r=="string"?{to:r}:r;const s=this._hooks[t]||[];delete this._hooks[t];for(const n of s)this.hook(t,n)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const r in t)this.deprecateHook(r,t[r])}addHooks(t){const r=ui(t),s=Object.keys(r).map(n=>this.hook(n,r[n]));return()=>{for(const n of s.splice(0,s.length))n()}}removeHooks(t){const r=ui(t);for(const s in r)this.removeHook(s,r[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...r){return r.unshift(t),this.callHookWith(Jd,t,...r)}callHookParallel(t,...r){return r.unshift(t),this.callHookWith(zd,t,...r)}callHookWith(t,r,...s){const n=this._before||this._after?{name:r,args:s,context:{}}:void 0;this._before&&Pn(this._before,n);const i=t(r in this._hooks?[...this._hooks[r]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&n&&Pn(this._after,n)}):(this._after&&n&&Pn(this._after,n),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const r=this._before.indexOf(t);r!==-1&&this._before.splice(r,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const r=this._after.indexOf(t);r!==-1&&this._after.splice(r,1)}}}};function Xd(){return new Yd}function Qd(e={}){let t,r=!1;const s=o=>{if(t&&t!==o)throw new Error("Context conflict")};let n;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?n=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(n){const o=n.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||s(o),t=o,r=!0},unset:()=>{t=void 0,r=!1},call:(o,a)=>{s(o),t=o;try{return n?n.run(o,a):a()}finally{r||(t=void 0)}},async callAsync(o,a){t=o;const l=()=>{t=o},u=()=>t===o?l:void 0;hi.add(u);try{const c=n?n.run(o,a):a();return r||(t=void 0),await c}finally{hi.delete(u)}}}}function Zd(e={}){const t={};return{get(r,s={}){return t[r]||(t[r]=Qd({...e,...s})),t[r]}}}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},ta="__unctx__",ep=qs[ta]||(qs[ta]=Zd()),tp=(e,t={})=>ep.get(e,t),ra="__unctx_async_handlers__",hi=qs[ra]||(qs[ra]=new Set);function Mc(e){const t=[];for(const n of hi){const i=n();i&&t.push(i)}const r=()=>{for(const n of t)n()};let s=e();return s&&typeof s=="object"&&"catch"in s&&(s=s.catch(n=>{throw r(),n})),[s,r]}const rp=!1,sa={id:"__nuxt-loader"},W_={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},sp="#__nuxt",Bc="nuxt-app",na=36e5,np="vite:preloadError";function Hc(e=Bc){return tp(e,{asyncContext:!1})}const ip="__nuxt_plugin";function op(e){let t=0;const r={_id:e.id||Bc||"nuxt-app",_scope:al(),provide:void 0,versions:{get nuxt(){return"4.2.2"},get vue(){return r.vueApp.version}},payload:qt({...e.ssrContext?.payload||{},data:qt({}),state:Rt({}),once:new Set,_errors:qt({})}),static:{data:{}},runWithContext(n){return r._scope.active&&!ll()?r._scope.run(()=>ia(r,n)):ia(r,n)},isHydrating:!0,deferHydration(){if(!r.isHydrating)return()=>{};t++;let n=!1;return()=>{if(!n&&(n=!0,t--,t===0))return r.isHydrating=!1,r.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:qt({}),_payloadRevivers:{},...e};{const n=window.__NUXT__;if(n)for(const i in n)switch(i){case"data":case"state":case"_errors":Object.assign(r.payload[i],n[i]);break;default:r.payload[i]=n[i]}}r.hooks=Xd(),r.hook=r.hooks.hook,r.callHook=r.hooks.callHook,r.provide=(n,i)=>{const o="$"+n;ws(r,o,i),ws(r.vueApp.config.globalProperties,o,i)},ws(r.vueApp,"$nuxt",r),ws(r.vueApp.config.globalProperties,"$nuxt",r);{window.addEventListener(np,i=>{r.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=ye;const n=r.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});r.hook("app:mounted",n)}const s=r.payload.config;return r.provide("config",s),r}function ap(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}async function lp(e,t){if(typeof t=="function"){const{provide:r}=await e.runWithContext(()=>t(e))||{};if(r&&typeof r=="object")for(const s in r)e.provide(s,r[s])}}async function cp(e,t){const r=new Set,s=[],n=[];let i,o=0;async function a(l){const u=l.dependsOn?.filter(c=>t.some(h=>h._name===c)&&!r.has(c))??[];if(u.length>0)s.push([new Set(u),l]);else{const c=lp(e,l).then(async()=>{l._name&&(r.add(l._name),await Promise.all(s.map(async([h,d])=>{h.has(l._name)&&(h.delete(l._name),h.size===0&&(o++,await a(d)))})))}).catch(h=>{if(!l.parallel&&!e.payload.error)throw h;i||=h});l.parallel?n.push(c):await c}}for(const l of t)ap(e,l);for(const l of t)await a(l);if(await Promise.all(n),o)for(let l=0;l<o;l++)await Promise.all(n);if(i)throw e.payload.error||i}function Xe(e){if(typeof e=="function")return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[ip]:!0,_name:t})}const up=Xe;function ia(e,t,r){const s=()=>t();return Hc(e._id).set(e),e.vueApp.runWithContext(s)}function hp(e){let t;return Bi()&&(t=os()?.appContext.app.$nuxt),t||=Hc(e).tryUse(),t||null}function ye(e){const t=hp(e);if(!t)throw new Error("[nuxt] instance unavailable");return t}function Sr(e){return ye().$config}function ws(e,t,r){Object.defineProperty(e,t,{get:()=>r})}function fp(e,t){return{ctx:{table:e},matchAll:r=>qc(r,e)}}function Fc(e){const t={};for(const r in e)t[r]=r==="dynamic"?new Map(Object.entries(e[r]).map(([s,n])=>[s,Fc(n)])):new Map(Object.entries(e[r]));return t}function dp(e){return fp(Fc(e))}function qc(e,t,r){e.endsWith("/")&&(e=e.slice(0,-1)||"/");const s=[];for(const[i,o]of oa(t.wildcard))(e===i||e.startsWith(i+"/"))&&s.push(o);for(const[i,o]of oa(t.dynamic))if(e.startsWith(i+"/")){const a="/"+e.slice(i.length).split("/").splice(2).join("/");s.push(...qc(a,o))}const n=t.static.get(e);return n&&s.push(n),s.filter(Boolean)}function oa(e){return[...e.entries()].sort((t,r)=>t[0].length-r[0].length)}function In(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function fi(e,t,r=".",s){if(!In(t))return fi(e,{},r,s);const n=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const o=e[i];o!=null&&(s&&s(n,i,o,r)||(Array.isArray(o)&&Array.isArray(n[i])?n[i]=[...o,...n[i]]:In(o)&&In(n[i])?n[i]=fi(o,n[i],(r?`${r}.`:"")+i.toString(),s):n[i]=o))}return n}function pp(e){return(...t)=>t.reduce((r,s)=>fi(r,s,"",e),{})}const gp=pp();function yp(e,t){try{return t in e}catch{return!1}}class aa extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(t,r={}){super(t,r),r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const t={message:this.message,statusCode:di(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=Wc(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}function mp(e){if(typeof e=="string")return new aa(e);if(_p(e))return e;const t=new aa(e.message??e.statusMessage??"",{cause:e.cause||e});if(yp(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=di(e.statusCode,t.statusCode):e.status&&(t.statusCode=di(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const r=t.statusMessage;Wc(t.statusMessage)!==r&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function _p(e){return e?.constructor?.__h3_error__===!0}const wp=/[^\u0009\u0020-\u007E]/g;function Wc(e=""){return e.replace(wp,"")}function di(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const vp=Symbol("layout-meta"),Yr=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Ct=()=>ye()?.$router,Er=()=>Bi()?At(Yr,ye()._route):ye()._route;const bp=()=>{try{if(ye()._processingMiddleware)return!0}catch{return!1}return!1},Sp=(e,t)=>{e||="/";const r=typeof e=="string"?e:"path"in e?Ep(e):Ct().resolve(e).href;if(t?.open){const{target:l="_blank",windowFeatures:u={}}=t.open,c=[];for(const[h,d]of Object.entries(u))d!==void 0&&c.push(`${h.toLowerCase()}=${d}`);return open(r,l,c.join(", ")),Promise.resolve()}const s=Ar(r,{acceptRelative:!0}),n=t?.external||s;if(n){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(r,window.location.href);if(l&&bd(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=bp();if(!n&&i){if(t?.replace){if(typeof e=="string"){const{pathname:l,search:u,hash:c}=jc(e);return{path:l,...u&&{query:Yi(u)},...c&&{hash:c},replace:!0}}return{...e,replace:!0}}return e}const o=Ct(),a=ye();return n?(a._scope.stop(),t?.replace?location.replace(r):location.href=r,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t?.replace?o.replace(e):o.push(e)};function Ep(e){return xc(e.path||"",e.query||{})+(e.hash||"")}const Kc="__nuxt_error",Zi=()=>Al(ye().payload,"error"),kp=e=>{const t=eo(e);try{const r=Zi();ye().hooks.callHook("app:error",t),r.value||=t}catch{throw t}return t},Tp=async(e={})=>{const t=ye(),r=Zi();t.callHook("app:error:cleared",e),e.redirect&&await Ct().replace(e.redirect),r.value=void 0},Ap=e=>!!e&&typeof e=="object"&&Kc in e,eo=e=>{const t=mp(e);return Object.defineProperty(t,Kc,{value:!0,configurable:!1,writable:!1}),t};const Rp=Symbol();var la;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(la||(la={}));function Op(){const e=al(!0),t=e.run(()=>Tt({}));let r=[],s=[];const n=El({install(i){n._a=i,i.provide(Rp,n),i.config.globalProperties.$pinia=n,s.forEach(o=>r.push(o)),s=[]},use(i){return this._a?r.push(i):s.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}function Cp(e){const t=Pp(e),r=new ArrayBuffer(t.length),s=new DataView(r);for(let n=0;n<r.byteLength;n++)s.setUint8(n,t.charCodeAt(n));return r}const xp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Pp(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",r=0,s=0;for(let n=0;n<e.length;n++)r<<=6,r|=xp.indexOf(e[n]),s+=6,s===24&&(t+=String.fromCharCode((r&16711680)>>16),t+=String.fromCharCode((r&65280)>>8),t+=String.fromCharCode(r&255),r=s=0);return s===12?(r>>=4,t+=String.fromCharCode(r)):s===18&&(r>>=2,t+=String.fromCharCode((r&65280)>>8),t+=String.fromCharCode(r&255)),t}const Ip=-1,$p=-2,jp=-3,Np=-4,Up=-5,Lp=-6;function Dp(e,t){return Mp(JSON.parse(e),t)}function Mp(e,t){if(typeof e=="number")return i(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,s=Array(r.length);let n=null;function i(o,a=!1){if(o===Ip)return;if(o===jp)return NaN;if(o===Np)return 1/0;if(o===Up)return-1/0;if(o===Lp)return-0;if(a||typeof o!="number")throw new Error("Invalid input");if(o in s)return s[o];const l=r[o];if(!l||typeof l!="object")s[o]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const u=l[0],c=t&&Object.hasOwn(t,u)?t[u]:void 0;if(c){let h=l[1];if(typeof h!="number"&&(h=r.push(l[1])-1),n??=new Set,n.has(h))throw new Error("Invalid circular reference");return n.add(h),s[o]=c(i(h)),n.delete(h),s[o]}switch(u){case"Date":s[o]=new Date(l[1]);break;case"Set":const h=new Set;s[o]=h;for(let g=1;g<l.length;g+=1)h.add(i(l[g]));break;case"Map":const d=new Map;s[o]=d;for(let g=1;g<l.length;g+=2)d.set(i(l[g]),i(l[g+1]));break;case"RegExp":s[o]=new RegExp(l[1],l[2]);break;case"Object":s[o]=Object(l[1]);break;case"BigInt":s[o]=BigInt(l[1]);break;case"null":const f=Object.create(null);s[o]=f;for(let g=1;g<l.length;g+=2)f[l[g]]=i(l[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{if(r[l[1]][0]!=="ArrayBuffer")throw new Error("Invalid data");const g=globalThis[u],y=i(l[1]),v=new g(y);s[o]=l[2]!==void 0?v.subarray(l[2],l[3]):v;break}case"ArrayBuffer":{const g=l[1];if(typeof g!="string")throw new Error("Invalid ArrayBuffer encoding");const y=Cp(g);s[o]=y;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const g=u.slice(9);s[o]=Temporal[g].from(l[1]);break}case"URL":{const g=new URL(l[1]);s[o]=g;break}case"URLSearchParams":{const g=new URLSearchParams(l[1]);s[o]=g;break}default:throw new Error(`Unknown type ${u}`)}}else{const u=new Array(l.length);s[o]=u;for(let c=0;c<l.length;c+=1){const h=l[c];h!==$p&&(u[c]=i(h))}}else{const u={};s[o]=u;for(const c in l){if(c==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const h=l[c];u[c]=i(h)}}return s[o]}return i(0)}const Bp=new Set(["link","style","script","noscript"]),Hp=new Set(["title","titleTemplate","script","style","noscript"]),ca=new Set(["base","meta","link","style","script","noscript"]),Fp=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),qp=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Wp=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Kp=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Vp=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function pi(e,t={},r){for(const s in e){const n=e[s],i=r?`${r}:${s}`:s;typeof n=="object"&&n!==null?pi(n,t,i):typeof n=="function"&&(t[i]=n)}return t}const Vc=(()=>{if(console.createTask)return console.createTask;const e={run:t=>t()};return()=>e})();function Gc(e,t,r,s){for(let n=r;n<e.length;n+=1)try{const i=s?s.run(()=>e[n](...t)):e[n](...t);if(i instanceof Promise)return i.then(()=>Gc(e,t,n+1,s))}catch(i){return Promise.reject(i)}}function Gp(e,t,r){if(e.length>0)return Gc(e,t,0,Vc(r))}function Jp(e,t,r){if(e.length>0){const s=Vc(r);return Promise.all(e.map(n=>s.run(()=>n(...t))))}}function $n(e,t){for(const r of[...e])r(t)}var zp=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,r={}){if(!e||typeof t!="function")return()=>{};const s=e;let n;for(;this._deprecatedHooks[e];)n=this._deprecatedHooks[e],e=n.to;if(n&&!r.allowDeprecated){let i=n.message;i||(i=`${s} hook has been deprecated`+(n.to?`, please use ${n.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let r,s=(...n)=>(typeof r=="function"&&r(),r=void 0,s=void 0,t(...n));return r=this.hook(e,s),r}removeHook(e,t){const r=this._hooks[e];if(r){const s=r.indexOf(t);s!==-1&&r.splice(s,1),r.length===0&&(this._hooks[e]=void 0)}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const r=this._hooks[e]||[];this._hooks[e]=void 0;for(const s of r)this.hook(e,s)}deprecateHooks(e){for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=pi(e),r=Object.keys(t).map(s=>this.hook(s,t[s]));return()=>{for(const s of r)s();r.length=0}}removeHooks(e){const t=pi(e);for(const r in t)this.removeHook(r,t[r])}removeAllHooks(){this._hooks={}}callHook(e,...t){return this.callHookWith(Gp,e,t)}callHookParallel(e,...t){return this.callHookWith(Jp,e,t)}callHookWith(e,t,r){const s=this._before||this._after?{name:t,args:r,context:{}}:void 0;this._before&&$n(this._before,s);const n=e(this._hooks[t]?[...this._hooks[t]]:[],r,t);return n instanceof Promise?n.finally(()=>{this._after&&s&&$n(this._after,s)}):(this._after&&s&&$n(this._after,s),n)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}};function Yp(){return new zp}const Xp=["name","property","http-equiv"],Qp=new Set(["viewport","description","keywords","robots"]);function Jc(e){const t=e.split(":");return t.length?Vp.has(t[1]):!1}function gi(e){const{props:t,tag:r}=e;if(qp.has(r))return r;if(r==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const s of Xp)if(t[s]!==void 0){const n=t[s],i=n&&typeof n=="string"&&n.includes(":"),o=n&&Qp.has(n),l=!(i||o)&&e.key?`:key:${e.key}`:"";return`${r}:${n}${l}`}}if(e.key)return`${r}:key:${e.key}`;if(t.id)return`${r}:id:${t.id}`;if(Hp.has(r)){const s=e.textContent||e.innerHTML;if(s)return`${r}:content:${s}`}}function ua(e){const t=e._h||e._d;if(t)return t;const r=e.textContent||e.innerHTML;return r||`${e.tag}:${Object.entries(e.props).map(([s,n])=>`${s}:${String(n)}`).join(",")}`}function Ws(e,t,r){typeof e==="function"&&(!r||r!=="titleTemplate"&&!(r[0]==="o"&&r[1]==="n"))&&(e=e());const n=t?t(r,e):e;if(Array.isArray(n))return n.map(i=>Ws(i,t));if(n?.constructor===Object){const i={};for(const o of Object.keys(n))i[o]=Ws(n[o],t,o);return i}return n}function Zp(e,t){const r=e==="style"?new Map:new Set;function s(n){if(n==null||n===void 0)return;const i=String(n).trim();if(i)if(e==="style"){const[o,...a]=i.split(":").map(l=>l?l.trim():"");o&&a.length&&r.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>r.add(o))}return typeof t=="string"?e==="style"?t.split(";").forEach(s):s(t):Array.isArray(t)?t.forEach(n=>s(n)):t&&typeof t=="object"&&Object.entries(t).forEach(([n,i])=>{i&&i!=="false"&&(e==="style"?r.set(String(n).trim(),String(i)):s(n))}),r}function zc(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([r,s])=>{if(s===null){e.props[r]=null;return}if(r==="class"||r==="style"){e.props[r]=Zp(r,s);return}if(Wp.has(r)){if(["textContent","innerHTML"].includes(r)&&typeof s=="object"){let a=t.type;if(t.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;t.type=a,e.props.type=a,e[r]=JSON.stringify(s)}else e[r]=s;return}const n=String(s),i=r.startsWith("data-"),o=e.tag==="meta"&&r==="content";n==="true"||n===""?e.props[r]=i||o?n:!0:!s&&i&&n==="false"?e.props[r]="false":s!==void 0&&(e.props[r]=s)}),e):e}function eg(e,t){const r=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},s=zc({tag:e,props:{}},r);return s.key&&Bp.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(n=>({...s,props:{...s.props,content:n}})):s}function tg(e,t){if(!e)return[];typeof e=="function"&&(e=e());const r=(n,i)=>{for(let o=0;o<t.length;o++)i=t[o](n,i);return i};e=r(void 0,e);const s=[];return e=Ws(e,r),Object.entries(e||{}).forEach(([n,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])s.push(eg(n,o))}),s.flat()}const ha=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,fa={base:-10,title:10},rg={critical:-8,high:-1,low:2},da={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},sg=/@import/,Pr=e=>e===""||e===!0;function ng(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let r=100;const s=rg[t.tagPriority]||0,n=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:da;if(t.tag in fa)r=fa[t.tag];else if(t.tag==="meta"){const i=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;i&&(r=da.meta[i])}else if(t.tag==="link"&&t.props.rel)r=n.link[t.props.rel];else if(t.tag==="script"){const i=String(t.props.type);Pr(t.props.async)?r=n.script.async:t.props.src&&!Pr(t.props.defer)&&!Pr(t.props.async)&&i!=="module"&&!i.endsWith("json")||t.innerHTML&&!i.endsWith("json")?r=n.script.sync:(Pr(t.props.defer)&&t.props.src&&!Pr(t.props.async)||i==="module")&&(r=n.script.defer)}else t.tag==="style"&&(r=t.innerHTML&&sg.test(t.innerHTML)?n.style.imported:n.style.sync);return(r||100)+s}function pa(e,t){const r=typeof t=="function"?t(e):t,s=r.key||String(e.plugins.size+1);e.plugins.get(s)||(e.plugins.set(s,r),e.hooks.addHooks(r.hooks||{}))}function ig(e={}){const t=Yp();t.addHooks(e.hooks||{});const r=!e.document,s=new Map,n=new Map,i=new Set,o={_entryCount:1,plugins:n,dirty:!1,resolvedOptions:e,hooks:t,ssr:r,entries:s,headEntries(){return[...s.values()]},use:a=>pa(o,a),push(a,l){const u={...l||{}};delete u.head;const c=u._index??o._entryCount++,h={_i:c,input:a,options:u},d={_poll(f=!1){o.dirty=!0,!f&&i.add(c),t.callHook("entries:updated",o)},dispose(){s.delete(c)&&o.invalidate()},patch(f){(!u.mode||u.mode==="server"&&r||u.mode==="client"&&!r)&&(h.input=f,s.set(c,h),d._poll())}};return d.patch(a),d},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await t.callHook("entries:resolve",a);i.size;){const d=i.values().next().value;i.delete(d);const f=s.get(d);if(f){const g={tags:tg(f.input,e.propResolvers||[]).map(y=>Object.assign(y,f.options)),entry:f};await t.callHook("entries:normalize",g),f._tags=g.tags.map((y,v)=>(y._w=ng(o,y),y._p=(f._i<<10)+v,y._d=gi(y),y))}}let l=!1;a.entries.flatMap(d=>(d._tags||[]).map(f=>({...f,props:{...f.props}}))).sort(ha).reduce((d,f)=>{const g=String(f._d||f._p);if(!d.has(g))return d.set(g,f);const y=d.get(g);if((f?.tagDuplicateStrategy||(Kp.has(f.tag)?"merge":null)||(f.key&&f.key===y.key?"merge":null))==="merge"){const b={...y.props};Object.entries(f.props).forEach(([S,p])=>b[S]=S==="style"?new Map([...y.props.style||new Map,...p]):S==="class"?new Set([...y.props.class||new Set,...p]):p),d.set(g,{...f,props:b})}else f._p>>10===y._p>>10&&f.tag==="meta"&&Jc(g)?(d.set(g,Object.assign([...Array.isArray(y)?y:[y],f],f)),l=!0):(f._w===y._w?f._p>y._p:f?._w<y?._w)&&d.set(g,f);return d},a.tagMap);const u=a.tagMap.get("title"),c=a.tagMap.get("titleTemplate");if(o._title=u?.textContent,c){const d=c?.textContent;if(o._titleTemplate=d,d){let f=typeof d=="function"?d(u?.textContent):d;typeof f=="string"&&!o.plugins.has("template-params")&&(f=f.replace("%s",u?.textContent||"")),u?f===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:f}):(c.tag="title",c.textContent=f)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(ha)),await t.callHook("tags:beforeResolve",a),await t.callHook("tags:resolve",a),await t.callHook("tags:afterResolve",a);const h=[];for(const d of a.tags){const{innerHTML:f,tag:g,props:y}=d;if(Fp.has(g)&&!(Object.keys(y).length===0&&!d.innerHTML&&!d.textContent)&&!(g==="meta"&&!y.content&&!y["http-equiv"]&&!y.charset)){if(g==="script"&&f){if(String(y.type).endsWith("json")){const v=typeof f=="string"?f:JSON.stringify(f);d.innerHTML=v.replace(/</g,"\\u003C")}else typeof f=="string"&&(d.innerHTML=f.replace(new RegExp(`</${g}`,"g"),`<\\/${g}`));d._d=gi(d)}h.push(d)}}return h},invalidate(){for(const a of s.values())i.add(a._i);o.dirty=!0,t.callHook("entries:updated",o)}};return(e?.plugins||[]).forEach(a=>pa(o,a)),o.hooks.callHook("init",o),e.init?.forEach(a=>a&&o.push(a)),o}const og=(e,t)=>pe(t)?th(t):t,Yc="usehead";function ag(e){return{install(r){r.config.globalProperties.$unhead=e,r.config.globalProperties.$head=e,r.provide(Yc,e)}}.install}function lg(){if(Bi()){const e=At(Yc);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function K_(e,t={}){const r=t.head||lg();return r.ssr?r.push(e||{},t):cg(r,e,t)}function cg(e,t,r={}){const s=Tt(!1);let n;return ph(()=>{const o=s.value?{}:Ws(t,og);n?n.patch(o):n=e.push(o,r)}),os()&&(qi(()=>{n.dispose()}),Ml(()=>{s.value=!0}),Dl(()=>{s.value=!1})),n}let Os,Cs;function ug(){return Os=$fetch(Qi(`builds/meta/${Sr().app.buildId}.json`),{responseType:"json"}),Os.then(e=>{Cs=dp(e.matcher)}).catch(e=>{console.error("[nuxt] Error fetching app manifest.",e)}),Os}function cn(){return Os||ug()}async function to(e){const t=typeof e=="string"?e:e.path;if(await cn(),!Cs)return console.error("[nuxt] Error creating app manifest matcher.",Cs),{};try{return gp({},...Cs.matchAll(t).reverse())}catch(r){return console.error("[nuxt] Error matching route rules.",r),{}}}async function ga(e,t={}){if(!await Qc(e))return null;const s=await fg(e,t);return await Xc(s)||null}const hg="_payload.json";async function fg(e,t={}){const r=new URL(e,"http://localhost");if(r.host!=="localhost"||Ar(r.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const s=Sr(),n=t.hash||(t.fresh?Date.now():s.app.buildId),i=s.app.cdnURL,o=i&&await Qc(e)?i:s.app.baseURL;return ln(o,r.pathname,hg+(n?`?${n}`:""))}async function Xc(e){const t=fetch(e,{cache:"force-cache"}).then(r=>r.text().then(Zc));try{return await t}catch(r){console.warn("[nuxt] Cannot load payload ",e,r)}return null}async function Qc(e=Er().path){const t=ye();return e=e==="/"?e:e.replace(/\/$/,""),(await cn()).prerendered.includes(e)?!0:t.runWithContext(async()=>{const s=await to({path:e});return!!s.prerender&&!s.redirect})}let Nt=null;async function dg(){if(Nt)return Nt;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=await Zc(e.textContent||""),r=e.dataset.src?await Xc(e.dataset.src):void 0;return Nt={...t,...r,...window.__NUXT__},Nt.config?.public&&(Nt.config.public=Rt(Nt.config.public)),Nt}async function Zc(e){return await Dp(e,ye()._payloadRevivers)}function eu(e,t){ye()._payloadRevivers[e]=t}const pg=up(()=>{eu("skipHydrate",e=>{})}),gg=[["NuxtError",e=>eo(e)],["EmptyShallowRef",e=>Yn(e==="_"?void 0:e==="0n"?BigInt(0):Bs(e))],["EmptyRef",e=>Tt(e==="_"?void 0:e==="0n"?BigInt(0):Bs(e))],["ShallowRef",e=>Yn(e)],["ShallowReactive",e=>qt(e)],["Ref",e=>Tt(e)],["Reactive",e=>Rt(e)]],yg=Xe({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,r;for(const[s,n]of gg)eu(s,n);Object.assign(e.payload,([t,r]=Mc(()=>e.runWithContext(dg)),t=await t,r(),t)),delete window.__NUXT__}});async function ro(e,t={}){const r=t.document||e.resolvedOptions.document;if(!r||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async n=>{const i=new Map,o=new Promise(f=>{e.resolveTags().then(g=>{f(g.map(y=>{const v=i.get(y._d)||0,b={tag:y,id:(v?`${y._d}:${v}`:y._d)||ua(y),shouldRender:!0};return y._d&&Jc(y._d)&&i.set(y._d,v+1),b}))})});let a=e._dom;if(!a){a={title:r.title,elMap:new Map().set("htmlAttrs",r.documentElement).set("bodyAttrs",r.body)};for(const f of["body","head"]){const g=r[f]?.children;for(const y of g){const v=y.tagName.toLowerCase();if(!ca.has(v))continue;const b=zc({tag:v,props:{}},{innerHTML:y.innerHTML,...y.getAttributeNames().reduce((S,p)=>(S[p]=y.getAttribute(p),S),{})||{}});if(b.key=y.getAttribute("data-hid")||void 0,b._d=gi(b)||ua(b),a.elMap.has(b._d)){let S=1,p=b._d;for(;a.elMap.has(p);)p=`${b._d}:${S++}`;a.elMap.set(p,y)}else a.elMap.set(b._d,y)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(f,g,y){const v=`${f}:${g}`;a.sideEffects[v]=y,delete a.pendingSideEffects[v]}function u({id:f,$el:g,tag:y}){const v=y.tag.endsWith("Attrs");a.elMap.set(f,g),v||(y.textContent&&y.textContent!==g.textContent&&(g.textContent=y.textContent),y.innerHTML&&y.innerHTML!==g.innerHTML&&(g.innerHTML=y.innerHTML),l(f,"el",()=>{g?.remove(),a.elMap.delete(f)}));for(const b in y.props){if(!Object.prototype.hasOwnProperty.call(y.props,b))continue;const S=y.props[b];if(b.startsWith("on")&&typeof S=="function"){const _=g?.dataset;if(_&&_[`${b}fired`]){const E=b.slice(0,-5);S.call(g,new Event(E.substring(2)))}g.getAttribute(`data-${b}`)!==""&&((y.tag==="bodyAttrs"?r.defaultView:g).addEventListener(b.substring(2),S.bind(g)),g.setAttribute(`data-${b}`,""));continue}const p=`attr:${b}`;if(b==="class"){if(!S)continue;for(const _ of S)v&&l(f,`${p}:${_}`,()=>g.classList.remove(_)),!g.classList.contains(_)&&g.classList.add(_)}else if(b==="style"){if(!S)continue;for(const[_,E]of S)l(f,`${p}:${_}`,()=>{g.style.removeProperty(_)}),g.style.setProperty(_,E)}else S!==!1&&S!==null&&(g.getAttribute(b)!==S&&g.setAttribute(b,S===!0?"":String(S)),v&&l(f,p,()=>g.removeAttribute(b)))}}const c=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await o;for(const f of d){const{tag:g,shouldRender:y,id:v}=f;if(y){if(g.tag==="title"){r.title=g.textContent,l("title","",()=>r.title=a.title);continue}f.$el=f.$el||a.elMap.get(v),f.$el?u(f):ca.has(g.tag)&&c.push(f)}}for(const f of c){const g=f.tag.tagPosition||"head";f.$el=r.createElement(f.tag.tag),u(f),h[g]=h[g]||r.createDocumentFragment(),h[g].appendChild(f.$el)}for(const f of d)await e.hooks.callHook("dom:renderTag",f,r,l);h.head&&r.head.appendChild(h.head),h.bodyOpen&&r.body.insertBefore(h.bodyOpen,r.body.firstChild),h.bodyClose&&r.body.appendChild(h.bodyClose);for(const f in a.pendingSideEffects)a.pendingSideEffects[f]();e._dom=a,await e.hooks.callHook("dom:rendered",{renders:d}),n()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function mg(e={}){const t=e.domOptions?.render||ro;e.document=e.document||(typeof window<"u"?document:void 0);const r=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ig({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[r?JSON.parse(r):!1,...e.init||[]]})}function _g(e,t){let r=0;return()=>{const s=++r;t(()=>{r===s&&e()})}}function wg(e={}){const t=mg({domOptions:{render:_g(()=>ro(t),r=>setTimeout(r,0))},...e});return t.install=ag(t),t}const vg={disableDefaults:!0},bg=Xe({name:"nuxt:head",enforce:"pre",setup(e){const t=wg(vg);e.vueApp.use(t);{let r=!0;const s=async()=>{r=!1,await ro(t)};t.hooks.hook("dom:beforeRender",n=>{n.shouldRender=!r}),e.hooks.hook("page:start",()=>{r=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||s()}),e.hooks.hook("app:error",s),e.hooks.hook("app:suspense:resolve",s)}}}),Sg=async e=>{let t,r;const s=([t,r]=Mc(()=>to({path:e.path})),t=await t,r(),t);if(s.redirect){const n=s.redirect.includes("#")?s.redirect:s.redirect+e.hash;return Ar(n,{acceptRelative:!0})?(window.location.href=n,!1):n}},Eg=[Sg];function jn(e){const t=e&&typeof e=="object"?e:{};typeof e=="object"&&(e=Nc({pathname:e.path||"",search:Oc(e.query||{}),hash:e.hash||""}));const r=new URL(e.toString(),window.location.href);return{path:r.pathname,fullPath:e,query:Yi(r.search),hash:r.hash,params:t.params||{},name:void 0,matched:t.matched||[],redirectedFrom:void 0,meta:t.meta||{},href:e}}const kg=Xe({name:"nuxt:router",enforce:"pre",setup(e){const t=kd(window.location.pathname,Sr().app.baseURL)+window.location.search+window.location.hash,r=[],s={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},n=(h,d)=>(s[h].push(d),()=>s[h].splice(s[h].indexOf(d),1)),i=Sr().app.baseURL,o=Rt(jn(t));async function a(h,d){try{const f=jn(h);for(const g of s["navigate:before"]){const y=await g(f,o);if(y===!1||y instanceof Error)return;if(typeof y=="string"&&y.length)return a(y,!0)}for(const g of s["resolve:before"])await g(f,o);Object.assign(o,f),window.history[d?"replaceState":"pushState"]({},"",ln(i,f.fullPath)),e.isHydrating||await e.runWithContext(Tp);for(const g of s["navigate:after"])await g(f,o)}catch(f){for(const g of s.error)await g(f)}}const u={currentRoute:Ji(()=>o),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:h=>a(h,!1),replace:h=>a(h,!0),back:()=>window.history.go(-1),go:h=>window.history.go(h),forward:()=>window.history.go(1),beforeResolve:h=>n("resolve:before",h),beforeEach:h=>n("navigate:before",h),afterEach:h=>n("navigate:after",h),onError:h=>n("error",h),resolve:jn,addRoute:(h,d)=>{r.push(d)},getRoutes:()=>r,hasRoute:h=>r.some(d=>d.name===h),removeRoute:h=>{const d=r.findIndex(f=>f.name===h);d!==-1&&r.splice(d,1)}};e.vueApp.component("RouterLink",Tr({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(h,{slots:d})=>{const f=()=>a(h.to,h.replace);return()=>{const g=u.resolve(h.to);return h.custom?d.default?.({href:h.to,navigate:f,route:g}):Yt("a",{href:h.to,onClick:y=>(y.preventDefault(),f())},d)}}})),window.addEventListener("popstate",h=>{const d=h.target.location;u.replace(d.href.replace(d.origin,""))}),e._route=o,e._middleware||={global:[],named:{}};const c=e.payload.state._layout;return e.hooks.hookOnce("app:created",async()=>{u.beforeEach(async(h,d)=>{h.meta=Rt(h.meta||{}),e.isHydrating&&c&&!dt(h.meta.layout)&&(h.meta.layout=c),e._processingMiddleware=!0;{const f=new Set([...Eg,...e._middleware.global]);{const g=await e.runWithContext(()=>to({path:h.path}));if(g.appMiddleware)for(const y in g.appMiddleware){const v=e._middleware.named[y];if(!v)return;g.appMiddleware[y]?f.add(v):f.delete(v)}}for(const g of f){const y=await e.runWithContext(()=>g(h,d));if(y!==!0&&(y||y===!1))return y}}}),u.afterEach(()=>{delete e._processingMiddleware}),await u.replace(t),Ad(o.fullPath,t)||await e.runWithContext(()=>Sp(o.fullPath))}),{provide:{route:o,router:u}}}});function un(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Tg(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})}const Ag=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class so extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Rg extends so{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ya extends so{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ma extends so{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yi||(yi={}));class Og{constructor(t,{headers:r={},customFetch:s,region:n=yi.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=Ag(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Tg(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=s;let d={},{region:f}=s;f||(f=this.region);const g=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(d["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(d["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let v=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(v=o.signal,c.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:y,signal:v}).catch(E=>{throw new Rg(E)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new ya(b);if(!b.ok)throw new ma(b);let p=((n=b.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield b.json():p==="application/octet-stream"||p==="application/pdf"?_=yield b.blob():p==="text/event-stream"?_=b:p==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof ma||a instanceof ya?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Cg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},xg=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,d;if(r.method!=="HEAD"){var f;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const y=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),v=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&v&&v.length>1&&(l=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&y===""?(u=204,c="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new Cg(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let a="";const l=i?.cause;if(l){var u,c,h,d;const g=(u=l?.message)!==null&&u!==void 0?u:"",y=(c=l?.code)!==null&&c!==void 0?c:"";a=`${(h=i?.name)!==null&&h!==void 0?h:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(d=l?.name)!==null&&d!==void 0?d:"Error"}: ${g}`,y&&(a+=` (${y})`),l?.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=i?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},Pg=class extends xg{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const _a=new RegExp("[,()]");var lr=class extends Pg{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&_a.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&_a.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Ig=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=t??{},n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),s&&l.append("Prefer",`count=${s}`),new lr({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new lr({method:n,url:i,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),s&&l.append("Prefer",`count=${s}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",c.join(","))}}return new lr({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const s="PATCH",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new lr({method:s,url:n,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new lr({method:r,url:s,headers:n,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},$g=class tu{constructor(t,{headers:r={},schema:s,fetch:n}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=n}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ig(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tu(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(c)),h=s&&Object.values(r).some(c);h?(a="POST",u=r):s||n?(a=s?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(a="POST",u=r);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new lr({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class jg{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ng="2.91.0",Ug=`realtime-js/${Ng}`,Lg="1.0.0",ru="2.0.0",wa=ru,mi=1e4,Dg=1e3,Mg=100;var bt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bt||(bt={}));var me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(me||(me={}));var Ge;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ge||(Ge={}));var _i;(function(e){e.websocket="websocket"})(_i||(_i={}));var Ht;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ht||(Ht={}));class Bg{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var n,i;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(f),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,u.length),g.setUint8(y++,h.length),g.setUint8(y++,r),Array.from(l,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(h,b=>g.setUint8(y++,b.charCodeAt(0)));var v=new Uint8Array(f.byteLength+s.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(s),f.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[n,i,o,a,l]=s;return r({join_ref:n,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),n=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,n)}_decodeUserBroadcast(t,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=s.decode(t.slice(l,l+n));l=l+n;const c=s.decode(t.slice(l,l+i));l=l+i;const h=s.decode(t.slice(l,l+o));l=l+o;const d=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(d)):d,g={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class su{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const va=(e,t,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Hg(o,e,t,n),i),{}):{}},Hg=(e,t,r,s)=>{const n=t.find(a=>a.name===e),i=n?.type,o=r[e];return i&&!s.includes(i)?nu(i,o):wi(o)},nu=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Kg(t,r)}switch(e){case ne.bool:return Fg(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return qg(t);case ne.json:case ne.jsonb:return Wg(t);case ne.timestamp:return Vg(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return wi(t);default:return wi(t)}},wi=e=>e,Fg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Kg=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nu(t,a))}return e},Vg=e=>typeof e=="string"?e.replace(" ","T"):e,iu=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nn{constructor(t,r,s={},n=mi){this.channel=t,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ba;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ba||(ba={}));class Mr{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Mr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Mr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,n){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(v=>v.presence_ref),f=h.map(v=>v.presence_ref),g=c.filter(v=>f.indexOf(v.presence_ref)<0),y=h.filter(v=>d.indexOf(v.presence_ref)<0);g.length>0&&(a[u]=g),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(t,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}s(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const n=t[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sa;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sa||(Sa={}));var Br;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Br||(Br={}));var at;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class fr{constructor(t,r={config:{}},s){var n,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nn(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new su(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Mr(this),this.broadcastEndpointURL=iu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[Br.PRESENCE]&&this.bindings[Br.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(at.CHANNEL_ERROR,f)),this._onClose(()=>t?.(at.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(at.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y?.length)!==null&&g!==void 0?g:0,b=[];for(let S=0;S<v;S++){const p=y[S],{filter:{event:_,schema:E,table:k,filter:A}}=p,D=f&&f[S];if(D&&D.event===_&&fr.isFilterValueEqual(D.schema,E)&&fr.isFilterValueEqual(D.table,k)&&fr.isFilterValueEqual(D.filter,A))b.push(Object.assign(Object.assign({},p),{id:D.id}));else{this.unsubscribe(),this.state=me.errored,t?.(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(at.SUBSCRIBED);return}}).receive("error",f=>{this.state=me.errored,t?.(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===me.joined&&t===Br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Nn(this,Ge.leave,{},t),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Nn(this,t,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ge;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,y,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=f.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,y,v,b,S,p,_,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,A=(g=f.filter)===null||g===void 0?void 0:g.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(A==="*"||A?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=f.filter)===null||b===void 0)&&b.table)||f.filter.table===((S=r.data)===null||S===void 0?void 0:S.table))}else{const k=(_=(p=f?.filter)===null||p===void 0?void 0:p.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:y,table:v,commit_timestamp:b,type:S,errors:p}=g;d=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:b,eventType:S,new:{},old:{},errors:p}),this._getPayloadRecords(g))}f.callback(d,s)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&fr.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ge.close,{},t)}_onError(t){this._on(Ge.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=va(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=va(t.columns,t.old_record)),r}}const Un=()=>{},vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gg=[1e3,2e3,5e3,1e4],Jg=1e4,zg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yg{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mi,this.transport=null,this.heartbeatIntervalMs=vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Un,this.ref=0,this.reconnectTimer=null,this.vsn=wa,this.logger=Un,this.conn=null,this.sendBuffer=[],this.serializer=new Bg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_i.websocket}`,this.httpEndpoint=iu(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case bt.connecting:return Ht.Connecting;case bt.open:return Ht.Open;case bt.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new fr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bt.open||this.conn.readyState===bt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ge.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${s}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([zg],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Ug};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ge.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new su(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,n,i,o,a,l,u,c,h,d,f;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:mi,this.heartbeatIntervalMs=(n=t?.heartbeatIntervalMs)!==null&&n!==void 0?n:vs.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Un,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:wa,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>Gg[g-1]||Jg),this.vsn){case Lg:this.encode=(c=t?.encode)!==null&&c!==void 0?c:((g,y)=>y(JSON.stringify(g))),this.decode=(h=t?.decode)!==null&&h!==void 0?h:((g,y)=>y(JSON.parse(g)));break;case ru:this.encode=(d=t?.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Xr=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Xg(e,t,r){const s=new URL(t,e);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function Qg(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Zg(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const a=Xg(e.baseUrl,s,n),l=await Qg(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const f=h?d:void 0,g=f?.error;throw new Xr(g?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:g?.type,icebergCode:g?.code,details:f})}return{status:u.status,headers:u.headers,data:d}}}}function bs(e){return e.join("")}var ey=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bs(e.namespace)}`}),!0}catch(t){if(t instanceof Xr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Xr&&r.status===409)return;throw r}}};function tr(e){return e.join("")}var ty=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Xr&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Xr&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ry=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Zg({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new ey(this.client,t),this.tableOps=new ty(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var sy=class extends hn{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vi=class extends hn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const no=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ny=()=>Response,bi=e=>{if(Array.isArray(e))return e.map(r=>bi(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=bi(s)}),t},iy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}function ay(e,t){if(Qr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Qr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ly(e){var t=ay(e,"string");return Qr(t)=="symbol"?t:t+""}function cy(e,t,r){return(t=ly(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ea(Object(r),!0).forEach(function(s){cy(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Ln=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uy=async(e,t,r)=>{e instanceof await ny()&&!r?.noResolveJson?e.json().then(s=>{const n=e.status||500,i=s?.statusCode||n+"";t(new sy(Ln(s),n,i))}).catch(s=>{t(new vi(Ln(s),s))}):t(new vi(Ln(e),e))},hy=(e,t,r,s)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"||!s?n:(iy(s)?(n.headers=G({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(s)):n.body=s,t?.duplex&&(n.duplex=t.duplex),G(G({},n),r))};async function ls(e,t,r,s,n,i){return new Promise((o,a)=>{e(r,hy(t,s,n,i)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>uy(l,a,s))})}async function Zr(e,t,r,s){return ls(e,"GET",t,r,s)}async function Ve(e,t,r,s,n){return ls(e,"POST",t,s,n,r)}async function Si(e,t,r,s,n){return ls(e,"PUT",t,s,n,r)}async function fy(e,t,r,s){return ls(e,"HEAD",t,G(G({},r),{},{noResolveJson:!0}),s)}async function io(e,t,r,s,n){return ls(e,"DELETE",t,s,n,r)}var dy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ue(t))return{data:null,error:t};throw t}}};let ou;ou=Symbol.toStringTag;var py=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ou]="BlobDownloadBuilder",this.promise=null}asStream(){return new dy(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ue(t))return{data:null,error:t};throw t}}};const gy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ka={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yy=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=no(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var n=this;try{let i;const o=G(G({},ka),s);let a=G(G({},n.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",n.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s?.headers&&(a=G(G({},a),s.headers));const u=n._removeEmptyFolders(t),c=n._getFinalPath(u),h=await(e=="PUT"?Si:Ve)(n.fetch,`${n.url}/object/${c}`,i,G({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var n=this;const i=n._removeEmptyFolders(e),o=n._getFinalPath(i),a=new URL(n.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=G({upsert:ka.upsert},s),c=G(G({},n.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Si(n.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const n=G({},r.headers);t?.upsert&&(n["x-upsert"]="true");const i=await Ve(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new hn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await Ve(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}}async copy(e,t,r){var s=this;try{return{data:{path:(await Ve(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}}async createSignedUrl(e,t,r){var s=this;try{let n=s._getFinalPath(e),i=await Ve(s.fetch,`${s.url}/object/sign/${n}`,G({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}}async createSignedUrls(e,t,r){var s=this;try{const n=await Ve(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>G(G({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),n=s?`?${s}`:"",i=this._getFinalPath(e),o=()=>Zr(this.fetch,`${this.url}/${r}/${i}${n}`,{headers:this.headers,noResolveJson:!0});return new py(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:bi(await Zr(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await fy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ue(s)&&s instanceof vi){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=t?.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&s.push(n);const i=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await io(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const n=G(G(G({},gy),t),{},{prefix:e||""});return{data:await Ve(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}}async listV2(e,t){var r=this;try{const s=G({},e);return{data:await Ve(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const au="2.91.0",lu={"X-Client-Info":`storage-js/${au}`};var my=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const n=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=G(G({},lu),t),this.fetch=no(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Zr(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Zr(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ve(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await Si(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await io(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},_y=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},lu),t),this.fetch=no(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),n=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await Zr(t.fetch,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await io(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!oy(e))throw new hn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ry({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}};const oo={"X-Client-Info":`storage-js/${au}`,"Content-Type":"application/json"};var cu=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Le(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Dn=class extends cu{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wy=class extends cu{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ao=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),by=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const s=e.status||500,n=e;if(typeof n.json=="function")n.json().then(i=>{const o=i?.statusCode||i?.code||s+"";t(new Dn(Ta(i),s,o))}).catch(()=>{const i=s+"";t(new Dn(n.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";t(new Dn(n.statusText||`HTTP ${s} error`,s,i))}}else t(new wy(Ta(e),e))},Sy=(e,t,r,s)=>{const n={method:e,headers:t?.headers||{}};return s?(vy(s)?(n.headers=G({"Content-Type":"application/json"},t?.headers),n.body=JSON.stringify(s)):n.body=s,G(G({},n),r)):n};async function Ey(e,t,r,s,n,i){return new Promise((o,a)=>{e(r,Sy(t,s,n,i)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>by(l,a,s))})}async function De(e,t,r,s,n){return Ey(e,"POST",t,s,n,r)}var ky=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},oo),t),this.fetch=ao(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await De(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await De(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}},Ty=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},oo),t),this.fetch=ao(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await De(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await De(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await De(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}},Ay=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},oo),t),this.fetch=ao(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await De(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}},Ry=class extends Ay{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Oy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Oy=class extends ky{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Cy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Cy=class extends Ty{constructor(e,t,r,s,n){super(e,t,n),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},xy=class extends my{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new yy(this.url,this.headers,e,this.fetch)}get vectors(){return new Ry(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _y(this.url+"/iceberg",this.headers,this.fetch)}};const uu="2.91.0",cr=30*1e3,Ei=3,Mn=Ei*cr,Py="http://localhost:9999",Iy="supabase.auth.token",$y={"X-Client-Info":`gotrue-js/${uu}`},ki="X-Supabase-Api-Version",hu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ny=600*1e3;class es extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Uy extends es{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Ly(e){return F(e)&&e.name==="AuthApiError"}class Ft extends es{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yt extends es{constructor(t,r,s,n){super(t,s,n),this.name=r,this.status=s}}class je extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dy(e){return F(e)&&e.name==="AuthSessionMissingError"}class rr extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ss extends yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Es extends yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function My(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class Aa extends yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ti extends yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bn(e){return F(e)&&e.name==="AuthRetryableFetchError"}class Ra extends yt{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ai extends yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ks="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oa=` 	
\r=`.split(""),Hy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Oa.length;t+=1)e[Oa[t].charCodeAt(0)]=-2;for(let t=0;t<Ks.length;t+=1)e[Ks[t].charCodeAt(0)]=t;return e})();function Ca(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Ks[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Ks[s]),t.queuedBits-=6}}function fu(e,t,r){const s=Hy[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xa(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Wy(o,s,r)};for(let o=0;o<e.length;o+=1)fu(e.charCodeAt(o),n,i);return t.join("")}function Fy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qy(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Fy(s,t)}}function Wy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wr(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)fu(e.charCodeAt(n),r,s);return new Uint8Array(t)}function Ky(e){const t=[];return qy(e,r=>t.push(r)),new Uint8Array(t)}function Wt(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};return e.forEach(n=>Ca(n,r,s)),Ca(null,r,s),t.join("")}function Vy(e){return Math.round(Date.now()/1e3)+e}function Gy(){return Symbol("auth-callback")}const be=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},du=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function Jy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{t[n]=s}),t}const pu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ur=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ve=async(e,t)=>{await e.removeItem(t)};class fn{constructor(){this.promise=new fn.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fn.promiseConstructor=Promise;function Hn(e){const t=e.split(".");if(t.length!==3)throw new Ai("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!jy.test(t[s]))throw new Ai("JWT not in base64url format");return{header:JSON.parse(xa(t[0])),payload:JSON.parse(xa(t[1])),signature:wr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xy(e,t){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Qy(e){return("0"+e.toString(16)).substr(-2)}function Zy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,Qy).join("")}async function em(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function tm(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await em(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(e,t,r=!1){const s=Zy();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await ur(e,`${t}-code-verifier`,n);const i=await tm(s);return[i,s===i?"plain":"s256"]}const rm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sm(e){const t=e.headers.get(ki);if(!t||!t.match(rm))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nm(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function im(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const om=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nr(e){if(!om.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fn(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function am(e,t){return new Proxy(e,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,n)}})}function Pa(e){return JSON.parse(JSON.stringify(e))}const Mt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lm=[502,503,504];async function Ia(e){var t;if(!zy(e))throw new Ti(Mt(e),0);if(lm.includes(e.status))throw new Ti(Mt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ft(Mt(i),i)}let s;const n=sm(e);if(n&&n.getTime()>=hu["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Ra(Mt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new je}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ra(Mt(r),e.status,r.weak_password.reasons);throw new Uy(Mt(r),e.status||500,s)}const cm=(e,t,r,s)=>{const n={method:e,headers:t?.headers||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function V(e,t,r,s){var n;const i=Object.assign({},s?.headers);i[ki]||(i[ki]=hu["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await um(e,t,r+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function um(e,t,r,s,n,i){const o=cm(t,s,n,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ti(Mt(l),0)}if(a.ok||await Ia(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Ia(l)}}function Ke(e){var t;let r=null;dm(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Vy(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function $a(e){const t=Ke(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Et(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hm(e){return{data:e,error:null}}function fm(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=e,o=un(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ja(e){return e}function dm(e){return e.access_token&&e.refresh_token&&e.expires_in}const qn=["global","local","others"];class pm{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=pu(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=qn[0]){if(qn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qn.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=un(t,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:fm,redirectTo:r?.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Et})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ja});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){nr(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Et})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){nr(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Et})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){nr(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){nr(t.userId);try{const{data:r,error:s}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(t){nr(t.userId),nr(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ja});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}}function Na(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ir={debug:!!(globalThis&&du()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gu extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gm extends gu{}async function ym(e,t,r){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gm(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ir.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yu(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _m(e){return parseInt(e,16)}function wm(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function vm(e){var t;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=yu(e.address),g=c?`${c}://${s}`:s,y=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${f}

${y}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(b+=`
Expiration Time: ${n.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);S+=`
- ${p}`}b+=S}return`${v}
${b}`}class ge extends Error{constructor({message:t,code:r,cause:s,name:n}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Vs extends ge{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function bm({error:e,options:t}){var r,s,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(mu(o)){if(i.rp.id!==o)return new ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Sm({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(mu(s)){if(r.rpId!==s)return new ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Em{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const km=new Em;function Tm(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,n=un(e,["challenge","user","excludeCredentials"]),i=wr(t).buffer,o=Object.assign(Object.assign({},r),{id:wr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const u=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:wr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Am(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=un(e,["challenge","allowCredentials"]),n=wr(t).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:wr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Rm(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Wt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Wt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Om(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Wt(new Uint8Array(n.authenticatorData)),clientDataJSON:Wt(new Uint8Array(n.clientDataJSON)),signature:Wt(new Uint8Array(n.signature)),userHandle:n.userHandle?Wt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mu(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ua(){var e,t;return!!(be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cm(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vs("Browser returned unexpected credential type",t)}:{data:null,error:new Vs("Empty credential response",t)}}catch(t){return{data:null,error:bm({error:t,options:e})}}}async function xm(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Vs("Browser returned unexpected credential type",t)}:{data:null,error:new Vs("Empty credential response",t)}}catch(t){return{data:null,error:Sm({error:t,options:e})}}}const Pm={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Im={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gs(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of e)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const a=s[i];t(a)?s[i]=Gs(a,o):s[i]=Gs(o)}else s[i]=o}return s}function $m(e,t){return Gs(Pm,e,t||{})}function jm(e,t){return Gs(Im,e,t||{})}class Nm{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=n??km.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=$m(o.webauthn.credential_options.publicKey,i?.create),{data:c,error:h}=await Cm({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=jm(o.webauthn.credential_options.publicKey,i?.request),{data:c,error:h}=await xm(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Ft("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new es("rpId is required for WebAuthn authentication")};try{if(!Ua())return{data:null,error:new Ft("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Ft("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new es("rpId is required for WebAuthn registration")};try{if(!Ua())return{data:null,error:new Ft("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c?.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Ft("Unexpected error in register",o)}}}}mm();const Um={url:Py,storageKey:Iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function La(e,t,r){return await r()}const or={};class ts{get jwks(){var t,r;return(r=(t=or[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=or[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Um),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ts.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ts.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&be()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pm({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pu(i.fetch),this.lock=i.lock||La,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&be()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=ym:this.lock=La,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Nm(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:du()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Na(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Na(this.memoryStorage)),be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uu}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(be()&&(r=Jy(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),be()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),My(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?this._returnResult({error:r}):this._returnResult({error:new Ft("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,n;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ke}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,n;try{let i;if("email"in t){const{email:c,password:h,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await sr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:c,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ke})}else if("phone"in t){const{phone:c,password:h,options:d}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ke})}else throw new Ss("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:$a})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:$a})}else throw new Ss("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new rr;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,n,i,o,a,l,u,c,h,d;let f,g;if("message"in t)f=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:S}=t;let p;if(be())if(typeof v=="object")p=v;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")p=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=v}const _=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),E=await p.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=yu(E[0]);let A=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const I=await p.request({method:"eth_chainId"});A=_m(I)}const D={domain:_.host,address:k,statement:b,uri:_.href,version:"1",chainId:A,nonce:(n=S?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=vm(D),g=await p.request({method:"personal_sign",params:[wm(f),k]})}try{const{data:y,error:v}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ke});if(v)throw v;if(!y||!y.session||!y.user){const b=new rr;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(F(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,s,n,i,o,a,l,u,c,h,d,f;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:v,wallet:b,statement:S,options:p}=t;let _;if(be())if(typeof b=="object")_=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!p?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((r=p?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),S?{statement:S}:null));let A;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")A=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)A=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(n=(s=p?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=p?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(c=p?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:v,error:b}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Wt(y)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ke});if(b)throw b;if(!v||!v.session||!v.user){const S=new rr;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(F(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Lt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new By;const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ke});if(await ve(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new rr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",i.session)},0)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ke}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new rr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await sr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Ss("You must provide either an email or phone number.")}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,s;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ke});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(n){if(F(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,s,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await sr(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:hm});return!((i=u.data)===null||i===void 0)&&i.url&&be()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new je;const{error:n}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(F(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:i}=t,{error:o}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:n,options:i}=t,{data:o,error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new Ss("You must provide either an email or phone number and a type")}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Mn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Lt(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Fn()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=am(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Et}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new je}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if(F(r))return Dy(r)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new je;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await sr(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Et});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new je;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=Hn(t.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new je;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!be())throw new Es("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Es(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Aa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Aa("No code detected.");const{data:S,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Es("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,c);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(s){if(F(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ly(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Gy(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await sr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return be()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(F(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ke}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new rr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(n){if(await ve(this.storage,`${this.storageKey}-code-verifier`),F(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Xy(async n=>(n>0&&await Yy(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ke})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Bn(i)&&Date.now()+o-s<cr})}catch(s){if(this._debug(r,"error",s),F(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),be()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Lt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Lt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ur(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o?.user)!==null&&t!==void 0?t:Fn()}else if(n&&!n.user&&!n.user){const o=await Lt(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await ve(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,n)):n.user=Fn()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Mn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Bn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new fn;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new je;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),F(i)){const o={data:null,error:i};return Bn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ur(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=Pa(n);await ur(this.storage,this.storageKey,i)}else{const n=Pa(r);await ur(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${cr}ms, refresh threshold is ${Ei} ticks`),n<=Ei&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gu)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Rm(t.webauthn.credential_response):Om(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Tm(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Am(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Hn(s.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new je})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new je});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&be()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new je});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&be()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new je})})}catch(t){if(F(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new je})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(a=>a.kid===t);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+Ny>n)return s;const{data:i,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});s=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Hn(s);r?.allowExpired||nm(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const c=im(n.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Ky(`${a}.${l}`)))throw new Ai("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}}ts.nextInstanceID={};const Lm=ts,Dm="2.91.0";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const Mm={"X-Client-Info":`supabase-js-${$r}/${Dm}`},Bm={headers:Mm},Hm={schema:"public"},Fm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qm={};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function Wm(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(rs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Km(e){var t=Wm(e,"string");return rs(t)=="symbol"?t:t+""}function Vm(e,t,r){return(t=Km(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Da(Object(r),!0).forEach(function(s){Vm(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Gm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jm=()=>Headers,zm=(e,t,r)=>{const s=Gm(r),n=Jm();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new n(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,he(he({},o),{},{headers:u}))}};function Ym(e){return e.endsWith("/")?e:e+"/"}function Xm(e,t){var r,s;const{db:n,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:he(he({},l),n),auth:he(he({},u),i),realtime:he(he({},c),o),storage:{},global:he(he(he({},h),a),{},{headers:he(he({},(r=h?.headers)!==null&&r!==void 0?r:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function Qm(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ym(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Zm=class extends Lm{constructor(e){super(e)}},e_=class{constructor(e,t,r){var s,n;this.supabaseUrl=e,this.supabaseKey=t;const i=Qm(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Hm,realtime:qm,auth:he(he({},Fm),{},{storageKey:o}),global:Bm},l=Xm(r??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=zm(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(he({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new $g(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new xy(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Og(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zm({url:this.authUrl.href,headers:he(he({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Yg(this.realtimeUrl.href,he(he({},e),{},{params:he(he({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const _u=(e,t,r)=>new e_(e,t,r);function t_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}t_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const r_="0.8.0";var We={},Ma;function s_(){if(Ma)return We;Ma=1,Object.defineProperty(We,"__esModule",{value:!0}),We.parseCookie=a,We.parse=a,We.stringifyCookie=l,We.stringifySetCookie=u,We.serialize=u,We.parseSetCookie=c,We.stringifySetCookie=u,We.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,n=/^-?\d+$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,b){const S=new o,p=v.length;if(p<2)return S;const _=b?.decode||g;let E=0;do{const k=d(v,E,p);if(k===-1)break;const A=h(v,E,p);if(k>A){E=v.lastIndexOf(";",k-1)+1;continue}const D=f(v,E,k);S[D]===void 0&&(S[D]=_(f(v,k+1,A))),E=A+1}while(E<p);return S}function l(v,b){const S=b?.encode||encodeURIComponent,p=[];for(const _ of Object.keys(v)){const E=v[_];if(E===void 0)continue;if(!e.test(_))throw new TypeError(`cookie name is invalid: ${_}`);const k=S(E);if(!t.test(k))throw new TypeError(`cookie val is invalid: ${E}`);p.push(`${_}=${k}`)}return p.join("; ")}function u(v,b,S){const p=typeof v=="object"?v:{...S,name:v,value:String(b)},E=(typeof b=="object"?b:S)?.encode||encodeURIComponent;if(!e.test(p.name))throw new TypeError(`argument name is invalid: ${p.name}`);const k=p.value?E(p.value):"";if(!t.test(k))throw new TypeError(`argument val is invalid: ${p.value}`);let A=p.name+"="+k;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);A+="; Max-Age="+p.maxAge}if(p.domain){if(!r.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);A+="; Domain="+p.domain}if(p.path){if(!s.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);A+="; Path="+p.path}if(p.expires){if(!y(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);A+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(A+="; HttpOnly"),p.secure&&(A+="; Secure"),p.partitioned&&(A+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return A}function c(v,b){const S=b?.decode||g,p=v.length,_=h(v,0,p),E=d(v,0,_),k=E===-1?{name:"",value:S(f(v,0,_))}:{name:f(v,0,E),value:S(f(v,E+1,_))};let A=_+1;for(;A<p;){const D=h(v,A,p),I=d(v,A,D),j=I===-1?f(v,A,D):f(v,A,I),M=I===-1?void 0:f(v,I+1,D);switch(j.toLowerCase()){case"httponly":k.httpOnly=!0;break;case"secure":k.secure=!0;break;case"partitioned":k.partitioned=!0;break;case"domain":k.domain=M;break;case"path":k.path=M;break;case"max-age":M&&n.test(M)&&(k.maxAge=Number(M));break;case"expires":if(!M)break;const P=new Date(M);Number.isFinite(P.valueOf())&&(k.expires=P);break;case"priority":if(!M)break;const W=M.toLowerCase();(W==="low"||W==="medium"||W==="high")&&(k.priority=W);break;case"samesite":if(!M)break;const Q=M.toLowerCase();(Q==="lax"||Q==="strict"||Q==="none")&&(k.sameSite=Q);break}A=D+1}return k}function h(v,b,S){const p=v.indexOf(";",b);return p===-1?S:p}function d(v,b,S){const p=v.indexOf("=",b);return p<S?p:-1}function f(v,b,S){let p=b,_=S;do{const E=v.charCodeAt(p);if(E!==32&&E!==9)break}while(++p<_);for(;_>p;){const E=v.charCodeAt(_-1);if(E!==32&&E!==9)break;_--}return v.slice(p,_)}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return i.call(v)==="[object Date]"}return We}var Ba=s_();function Hr(){return typeof window<"u"&&typeof window.document<"u"}const ks={path:"/",sameSite:"lax",httpOnly:!1,maxAge:400*24*60*60},n_=3180,i_=/^(.*)[.](0|[1-9][0-9]*)$/;function Ha(e,t){if(e===t)return!0;const r=e.match(i_);return!!(r&&r[1]===t)}function o_(e,t,r){const s=n_;let n=encodeURIComponent(t);if(n.length<=s)return[{name:e,value:t}];const i=[];for(;n.length>0;){let o=n.slice(0,s);const a=o.lastIndexOf("%");a>s-3&&(o=o.slice(0,a));let l="";for(;o.length>0;)try{l=decodeURIComponent(o);break}catch(u){if(u instanceof URIError&&o.at(-3)==="%"&&o.length>3)o=o.slice(0,o.length-3);else throw u}i.push(l),n=n.slice(o.length)}return i.map((o,a)=>({name:`${e}.${a}`,value:o}))}async function a_(e,t){const r=await t(e);if(r)return r;let s=[];for(let n=0;;n++){const i=`${e}.${n}`,o=await t(i);if(!o)break;s.push(o)}return s.length>0?s.join(""):null}const Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fa=` 	
\r=`.split(""),l_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fa.length;t+=1)e[Fa[t].charCodeAt(0)]=-2;for(let t=0;t<Js.length;t+=1)e[Js[t].charCodeAt(0)]=t;return e})();function c_(e){const t=[];let r=0,s=0;if(f_(e,i=>{for(r=r<<8|i,s+=8;s>=6;){const o=r>>s-6&63;t.push(Js[o]),s-=6}}),s>0)for(r=r<<6-s,s=6;s>=6;){const i=r>>s-6&63;t.push(Js[i]),s-=6}return t.join("")}function u_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0};let n=0,i=0;for(let o=0;o<e.length;o+=1){const a=e.charCodeAt(o),l=l_[a];if(l>-1)for(n=n<<6|l,i+=6;i>=8;)d_(n>>i-8&255,s,r),i-=8;else{if(l===-2)continue;throw new Error(`Invalid Base64-URL character "${e.at(o)}" at position ${o}`)}}return t.join("")}function h_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function f_(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}h_(s,t)}}function d_(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}const Wn="base64-";function p_(e,t){const r=e.cookies??null,s=e.cookieEncoding,n={},i={};let o,a;if(r)if("get"in r){const l=async u=>{const c=u.flatMap(d=>[d,...Array.from({length:5}).map((f,g)=>`${d}.${g}`)]),h=[];for(let d=0;d<c.length;d+=1){const f=await r.get(c[d]);!f&&typeof f!="string"||h.push({name:c[d],value:f})}return h};if(o=async u=>await l(u),"set"in r&&"remove"in r)a=async u=>{for(let c=0;c<u.length;c+=1){const{name:h,value:d,options:f}=u[c];d?await r.set(h,d,f):await r.remove(h,f)}};else throw new Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in r)if(o=async()=>await r.getAll(),"setAll"in r)a=r.setAll;else throw new Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw new Error(`@supabase/ssr: createBrowserClient requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${Hr()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(Hr()){const l=()=>{const u=Ba.parse(document.cookie);return Object.keys(u).map(c=>({name:c,value:u[c]??""}))};o=()=>l(),a=u=>{u.forEach(({name:c,value:h,options:d})=>{document.cookie=Ba.serialize(c,h,d)})}}else o=()=>[],a=()=>{throw new Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return{getAll:o,setAll:a,setItems:n,removedItems:i,storage:{isServer:!1,getItem:async l=>{const u=await o([l]),c=await a_(l,async d=>{const f=u?.find(({name:g})=>g===d)||null;return f?f.value:null});if(!c)return null;let h=c;return c.startsWith(Wn)&&(h=u_(c.substring(Wn.length))),h},setItem:async(l,u)=>{const h=(await o([l]))?.map(({name:S})=>S)||[],d=new Set(h.filter(S=>Ha(S,l)));let f=u;s==="base64url"&&(f=Wn+c_(u));const g=o_(l,f);g.forEach(({name:S})=>{d.delete(S)});const y={...ks,...e?.cookieOptions,maxAge:0},v={...ks,...e?.cookieOptions,maxAge:ks.maxAge};delete y.name,delete v.name;const b=[...[...d].map(S=>({name:S,value:"",options:y})),...g.map(({name:S,value:p})=>({name:S,value:p,options:v}))];b.length>0&&await a(b)},removeItem:async l=>{const h=((await o([l]))?.map(({name:f})=>f)||[]).filter(f=>Ha(f,l)),d={...ks,...e?.cookieOptions,maxAge:0};delete d.name,h.length>0&&await a(h.map(f=>({name:f,value:"",options:d})))}}}}let Kn;function g_(e,t,r){const s=r?.isSingleton===!0||(!r||!("isSingleton"in r))&&Hr();if(s&&Kn)return Kn;if(!e||!t)throw new Error(`@supabase/ssr: Your project's URL and API key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);const{storage:n}=p_({...r,cookieEncoding:r?.cookieEncoding??"base64url"}),i=_u(e,t,{...r,global:{...r?.global,headers:{...r?.global?.headers,"X-Client-Info":`supabase-ssr/${r_} createBrowserClient`}},auth:{...r?.auth,...r?.cookieOptions?.name?{storageKey:r.cookieOptions.name}:null,flowType:"pkce",autoRefreshToken:Hr(),detectSessionInUrl:Hr(),persistSession:!0,storage:n,...r?.cookies&&"encode"in r.cookies&&r.cookies.encode==="tokens-only"?{userStorage:r?.auth?.userStorage??window.localStorage}:null}});return s&&(Kn=i),i}var qa={};if(typeof process<"u"&&qa?.npm_package_name){const e=qa.npm_package_name;["@supabase/auth-helpers-nextjs","@supabase/auth-helpers-react","@supabase/auth-helpers-remix","@supabase/auth-helpers-sveltekit"].includes(e)&&console.warn(`

   IMPORTANT: Package Consolidation Notice                                
                                                                            
 The ${e.padEnd(35)} package name is deprecated.  
                                                                            
 You are now using @supabase/ssr - a unified solution for all frameworks.  
                                                                            
 The auth-helpers packages have been consolidated into @supabase/ssr       
 to provide better maintenance and consistent APIs across frameworks.      
                                                                            
 Please update your package.json to use @supabase/ssr directly:            
   npm uninstall ${e.padEnd(42)} 
   npm install @supabase/ssr                                               
                                                                            
 For more information, visit:                                              
 https://supabase.com/docs/guides/auth/server-side                         

    `)}async function Wa(e,t){for(let s=1;s<=3;s++)try{return await fetch(e,t)}catch(n){if(t?.signal?.aborted)throw n;if(s===3)throw console.error(`Error fetching request ${e}`,n,t),n;console.warn(`Retrying fetch attempt ${s+1} for request: ${e}`),await new Promise(i=>setTimeout(i,100*s))}throw new Error("Unreachable code")}const y_="$s";function wu(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[r,s]=e;if(!r||typeof r!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+r);if(s!==void 0&&typeof s!="function")throw new Error("[nuxt] [useState] init must be a function: "+s);const n=y_+r,i=ye(),o=Al(i.payload.state,n);if(o.value===void 0&&s){const a=s();if(pe(a))return i.payload.state[n]=a,a;o.value=a}return o}const m_=()=>wu("supabase_session",()=>null),__=()=>wu("supabase_user",()=>null),w_=Xe({name:"supabase",enforce:"pre",async setup({provide:e}){const t=ye(),{url:r,key:s,cookieOptions:n,cookiePrefix:i,useSsrCookies:o,clientOptions:a}=Sr().public.supabase;let l;o?l=g_(r,s,{...a,cookieOptions:{...n,name:i},isSingleton:!0,global:{fetch:Wa,...a.global}}):l=_u(r,s,{...a,global:{fetch:Wa,...a.global}}),e("supabase",{client:l});const u=m_(),c=__();t.hook("page:start",async()=>{const{data:h}=await l.auth.getClaims();c.value=h?.claims??null}),l.auth.onAuthStateChange((h,d)=>{JSON.stringify(u.value)!==JSON.stringify(d)&&(u.value=d,d?.user?l.auth.getClaims().then(({data:f})=>{c.value=f?.claims??null}):c.value=null)})}}),Ka=globalThis.requestIdleCallback||(e=>{const t=Date.now(),r={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(r)},1)}),V_=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),lo=e=>{const t=ye();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{Ka(()=>e())}):Ka(()=>e())},v_=Xe({name:"nuxt:payload",setup(e){const t=new Set;Ct().beforeResolve(async(r,s)=>{if(r.path===s.path)return;const n=await ga(r.path);if(n){for(const i of t)delete e.static.data[i];for(const i in n.data)i in e.static.data||t.add(i),e.static.data[i]=n.data[i]}}),lo(()=>{e.hooks.hook("link:prefetch",async r=>{const{hostname:s}=new URL(r,window.location.href);s===window.location.hostname&&await ga(r).catch(()=>{console.warn("[nuxt] Error preloading payload for",r)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(cn,1e3)})}}),b_=Xe(()=>{const e=Ct();lo(()=>{e.beforeResolve(async()=>{await new Promise(t=>{setTimeout(t,100),requestAnimationFrame(()=>{setTimeout(t,0)})})})})}),S_=Xe(e=>{let t;async function r(){let s;try{s=await cn()}catch(n){const i=n;if(!("status"in i&&(i.status===404||i.status===403)))throw i}t&&clearTimeout(t),t=setTimeout(r,na);try{const n=await $fetch(Qi("builds/latest.json")+`?${Date.now()}`);n.id!==s?.id&&(e.hooks.callHook("app:manifest:update",n),t&&clearTimeout(t))}catch{}}lo(()=>{t=setTimeout(r,na)})});function E_(e={}){const t=e.path||window.location.pathname;let r={};try{r=Bs(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||r?.path!==t||r?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:ye().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const k_=Xe({name:"nuxt:chunk-reload",setup(e){const t=Ct(),r=Sr(),s=new Set;t.beforeEach(()=>{s.clear()}),e.hook("app:chunkError",({error:i})=>{s.add(i)});function n(i){const o=ln(r.app.baseURL,i.fullPath);E_({path:o,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(n)}),t.onError((i,o)=>{s.has(i)&&n(o)})}}),T_=(e,t)=>({default:()=>e?Yt(Rf,e===!0?{}:e,t):t.default?.()}),A_=Xe({name:"pinia",setup(e){const t=Op();return e.vueApp.use(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}},hooks:{"app:rendered"(){const e=ye();e.payload.pinia=ee(e.$pinia).state.value}}}),R_=Xe({name:"nuxt:global-components"}),O_=[pg,yg,bg,kg,w_,v_,b_,S_,k_,A_,R_],C_=Tr({name:"NuxtPage",setup(e,t){return()=>t.slots.default?.()}}),zs={},x_=Tr({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(e,t){return()=>Yt(zs[e.name],e.layoutProps,t.slots)}}),P_={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},I_=Tr({name:"NuxtLayout",inheritAttrs:!1,props:P_,setup(e,t){const r=ye(),s=At(Yr),i=!s||s===Er()?Er():s,o=Ji(()=>{let c=de(e.name)??i?.meta.layout??"default";return c&&!(c in zs)&&e.fallback&&(c=de(e.fallback)),c}),a=Yn();t.expose({layoutRef:a});const l=r.deferHydration();if(r.isHydrating){const c=r.hooks.hookOnce("app:error",l);Ct().beforeEach(c)}let u;return()=>{const c=o.value&&o.value in zs,h=i?.meta.layoutTransition??rp,d=u;return u=o.value,T_(c&&h,{default:()=>Yt(hc,{suspensible:!0,onResolve:()=>{Li(l)}},{default:()=>Yt($_,{layoutProps:vc(t.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!e.name,isRenderingNewLayout:f=>f!==d&&f===o.value,hasTransition:!!h},t.slots)})}).default()}}}),$_=Tr({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(e,t){const r=e.name;e.shouldProvide&&Ns(vp,{isCurrent:i=>r===(i.meta.layout??"default")});const s=At(Yr);if(s&&s===Er()){const i=Er(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>e.isRenderingNewLayout(e.name)?i[l]:s[l]})}Ns(Yr,qt(o))}return()=>!r||typeof r=="string"&&!(r in zs)?t.slots.default?.():Yt(x_,{key:r,layoutProps:e.layoutProps,name:r},t.slots)}}),j_=(e,t)=>{const r=e.__vccOpts||e;for(const[s,n]of t)r[s]=n;return r},N_={};function U_(e,t){const r=C_,s=I_;return ct(),Bt(s,null,{default:Mi(()=>[_e(r)]),_:1})}const L_=j_(N_,[["render",U_]]),D_="modulepreload",M_=function(e,t){return new URL(e,t).href},Va={},Ga=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){let u=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=u(r.map(c=>{if(c=M_(c,s),c in Va)return;Va[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(s)for(let g=o.length-1;g>=0;g--){const y=o[g];if(y.href===c&&(!h||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":D_,h||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((g,y)=>{f.addEventListener("load",g),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},B_={__name:"nuxt-error-page",props:{error:Object},setup(e){const r=e.error,s=Number(r.statusCode||500),n=s===404,i=r.statusMessage??(n?"Page Not Found":"Internal Server Error"),o=r.message||r.toString(),a=void 0,c=n?Eo(()=>Ga(()=>import("./BMS5sN1E.js"),__vite__mapDeps([0,1,2]),import.meta.url)):Eo(()=>Ga(()=>import("./D-YKtQ2K.js"),__vite__mapDeps([3,1,4]),import.meta.url));return(h,d)=>(ct(),Bt(de(c),Pu(_c({statusCode:de(s),statusMessage:de(i),description:de(o),stack:de(a)})),null,16))}},H_={key:0},Ja={__name:"nuxt-root",setup(e){const t=()=>null,r=ye(),s=r.deferHydration();if(r.isHydrating){const u=r.hooks.hookOnce("app:error",s);Ct().beforeEach(u)}const n=!1;Ns(Yr,Er()),r.hooks.callHookWith(u=>u.map(c=>c()),"vue:setup");const i=Zi(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;ql((u,c,h)=>{if(r.hooks.callHook("vue:error",u,c,h).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),a.test(navigator.userAgent))return r.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(Ap(u)&&(u.fatal||u.unhandled))return r.runWithContext(()=>kp(u)),!1});const l=!1;return(u,c)=>(ct(),Bt(hc,{onResolve:de(s)},{default:Mi(()=>[de(o)?(ct(),uf("div",H_)):de(i)?(ct(),Bt(de(B_),{key:1,error:de(i)},null,8,["error"])):de(l)?(ct(),Bt(de(t),{key:2,context:de(l)},null,8,["context"])):de(n)?(ct(),Bt(Ih(de(n)),{key:3})):(ct(),Bt(de(L_),{key:4}))]),_:1},8,["onResolve"]))}};let za;{let e;za=async function(){if(e)return e;const r=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),s=r?Xf(Ja):Yf(Ja),n=op({vueApp:s});async function i(o){await n.callHook("app:error",o),n.payload.error||=eo(o)}s.config.errorHandler=i,n.hook("app:suspense:resolve",()=>{s.config.errorHandler===i&&(s.config.errorHandler=void 0)}),!r&&sa.id&&n.hook("app:suspense:resolve",()=>{document.getElementById(sa.id)?.remove()});try{await cp(n,O_)}catch(o){i(o)}try{await n.hooks.callHook("app:created",s),await n.hooks.callHook("app:beforeMount",s),s.mount(sp),await n.hooks.callHook("app:mounted",s),await Li()}catch(o){i(o)}return s},e=za().catch(t=>{throw console.error("Error while mounting app:",t),t})}export{_e as A,Mi as B,wc as C,K_ as D,Bi as E,At as F,Yc as G,j_ as _,ye as a,lo as b,Tt as c,Tr as d,qi as e,V_ as f,F_ as g,Yt as h,Ep as i,Ji as j,ln as k,Sr as l,Ar as m,Sp as n,Hl as o,Yi as p,Cc as q,Ka as r,Yn as s,W_ as t,Ct as u,uf as v,ci as w,ct as x,mc as y,ju as z};
